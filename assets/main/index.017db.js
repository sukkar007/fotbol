window.__require=function t(e,i,o){function n(c,a){if(!i[c]){if(!e[c]){var s=c.split("/");if(s=s[s.length-1],!e[s]){var h="function"==typeof __require&&__require;if(!a&&h)return h(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+c+"'")}c=s}var u=i[c]={exports:{}};e[c][0].call(u.exports,function(t){return n(e[c][1][t]||t)},u,u.exports,t,e,i,o)}return i[c].exports}for(var r="function"==typeof __require&&__require,c=0;c<o.length;c++)n(o[c]);return n}({1:[function(){},{}],2:[function(t,e){var i,o,n=e.exports={};function r(){throw new Error("setTimeout has not been defined")}function c(){throw new Error("clearTimeout has not been defined")}function a(t){if(i===setTimeout)return setTimeout(t,0);if((i===r||!i)&&setTimeout)return i=setTimeout,setTimeout(t,0);try{return i(t,0)}catch(e){try{return i.call(null,t,0)}catch(e){return i.call(this,t,0)}}}function s(t){if(o===clearTimeout)return clearTimeout(t);if((o===c||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{i="function"==typeof setTimeout?setTimeout:r}catch(t){i=r}try{o="function"==typeof clearTimeout?clearTimeout:c}catch(t){o=c}})();var h,u=[],l=!1,f=-1;function d(){l&&h&&(l=!1,h.length?u=h.concat(u):f=-1,u.length&&p())}function p(){if(!l){var t=a(d);l=!0;for(var e=u.length;e;){for(h=u,u=[];++f<e;)h&&h[f].run();f=-1,e=u.length}h=null,l=!1,s(t)}}function v(t,e){this.fun=t,this.array=e}function _(){}n.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)e[i-1]=arguments[i];u.push(new v(t,e)),1!==u.length||l||a(p)},v.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=_,n.addListener=_,n.once=_,n.off=_,n.removeListener=_,n.removeAllListeners=_,n.emit=_,n.prependListener=_,n.prependOnceListener=_,n.listeners=function(){return[]},n.binding=function(){throw new Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(){throw new Error("process.chdir is not supported")},n.umask=function(){return 0}},{}],Common:[function(t,e,i){"use strict";cc._RF.push(e,"0013b2Ne5VAcbvfJFrrdXuF","Common");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0}),t("../core/entry");var c=cc._decorator,a=c.ccclass,s=c.property,h=t("../core/tools"),u=!1,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.template=null,e}return n(e,t),e.prototype.onLoad=function(){this.template&&!u&&(u=!0,cc.game.addPersistRootNode(cc.instantiate(this.template)),h.Native.dispatchLaunch(),h.initRoomInfo())},r([s(cc.Prefab)],e.prototype,"template",void 0),r([a],e)}(cc.Component);i.default=l,cc._RF.pop()},{"../core/entry":"entry","../core/tools":"tools"}],3:[function(t,e){(function(t){"use strict";var i,o=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,n=Math.ceil,r=Math.floor,c="[BigNumber Error] ",a=c+"Number primitive has more than 15 significant digits: ",s=1e14,h=14,u=9007199254740991,l=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],f=1e7;function d(t){var e=0|t;return t>0||t===e?e:e-1}function p(t){for(var e,i,o=1,n=t.length,r=t[0]+"";o<n;){for(e=t[o++]+"",i=h-e.length;i--;e="0"+e);r+=e}for(n=r.length;48===r.charCodeAt(--n););return r.slice(0,n+1||1)}function v(t,e){var i,o,n=t.c,r=e.c,c=t.s,a=e.s,s=t.e,h=e.e;if(!c||!a)return null;if(i=n&&!n[0],o=r&&!r[0],i||o)return i?o?0:-a:c;if(c!=a)return c;if(i=c<0,o=s==h,!n||!r)return o?0:!n^i?1:-1;if(!o)return s>h^i?1:-1;for(a=(s=n.length)<(h=r.length)?s:h,c=0;c<a;c++)if(n[c]!=r[c])return n[c]>r[c]^i?1:-1;return s==h?0:s>h^i?1:-1}function _(t,e,i,o){if(t<e||t>i||t!==r(t))throw Error(c+(o||"Argument")+("number"==typeof t?t<e||t>i?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function y(t){var e=t.c.length-1;return d(t.e/h)==e&&t.c[e]%2!=0}function m(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function w(t,e,i){var o,n;if(e<0){for(n=i+".";++e;n+=i);t=n+t}else if(++e>(o=t.length)){for(n=i,e-=o;--e;n+=i);t+=n}else e<o&&(t=t.slice(0,e)+"."+t.slice(e));return t}(i=function t(e){var i,g,b,k,L,E,O,R,S,N=U.prototype={constructor:U,toString:null,valueOf:null},C=new U(1),x=20,T=4,P=-7,A=21,j=-1e7,D=1e7,I=!1,M=1,F=0,V={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"\xa0",suffix:""},B="0123456789abcdefghijklmnopqrstuvwxyz",G=!0;function U(t,e){var i,n,c,s,l,f,d,p,v=this;if(!(v instanceof U))return new U(t,e);if(null==e){if(t&&!0===t._isBigNumber)return v.s=t.s,void(!t.c||t.e>D?v.c=v.e=null:t.e<j?v.c=[v.e=0]:(v.e=t.e,v.c=t.c.slice()));if((f="number"==typeof t)&&0*t==0){if(v.s=1/t<0?(t=-t,-1):1,t===~~t){for(s=0,l=t;l>=10;l/=10,s++);return void(s>D?v.c=v.e=null:(v.e=s,v.c=[t]))}p=String(t)}else{if(!o.test(p=String(t)))return b(v,p,f);v.s=45==p.charCodeAt(0)?(p=p.slice(1),-1):1}(s=p.indexOf("."))>-1&&(p=p.replace(".","")),(l=p.search(/e/i))>0?(s<0&&(s=l),s+=+p.slice(l+1),p=p.substring(0,l)):s<0&&(s=p.length)}else{if(_(e,2,B.length,"Base"),10==e&&G)return K(v=new U(t),x+v.e+1,T);if(p=String(t),f="number"==typeof t){if(0*t!=0)return b(v,p,f,e);if(v.s=1/t<0?(p=p.slice(1),-1):1,U.DEBUG&&p.replace(/^0\.0*|\./,"").length>15)throw Error(a+t)}else v.s=45===p.charCodeAt(0)?(p=p.slice(1),-1):1;for(i=B.slice(0,e),s=l=0,d=p.length;l<d;l++)if(i.indexOf(n=p.charAt(l))<0){if("."==n){if(l>s){s=d;continue}}else if(!c&&(p==p.toUpperCase()&&(p=p.toLowerCase())||p==p.toLowerCase()&&(p=p.toUpperCase()))){c=!0,l=-1,s=0;continue}return b(v,String(t),f,e)}f=!1,(s=(p=g(p,e,10,v.s)).indexOf("."))>-1?p=p.replace(".",""):s=p.length}for(l=0;48===p.charCodeAt(l);l++);for(d=p.length;48===p.charCodeAt(--d););if(p=p.slice(l,++d)){if(d-=l,f&&U.DEBUG&&d>15&&(t>u||t!==r(t)))throw Error(a+v.s*t);if((s=s-l-1)>D)v.c=v.e=null;else if(s<j)v.c=[v.e=0];else{if(v.e=s,v.c=[],l=(s+1)%h,s<0&&(l+=h),l<d){for(l&&v.c.push(+p.slice(0,l)),d-=h;l<d;)v.c.push(+p.slice(l,l+=h));l=h-(p=p.slice(l)).length}else l-=d;for(;l--;p+="0");v.c.push(+p)}}else v.c=[v.e=0]}function H(t,e,i,o){var n,r,c,a,s;if(null==i?i=T:_(i,0,8),!t.c)return t.toString();if(n=t.c[0],c=t.e,null==e)s=p(t.c),s=1==o||2==o&&(c<=P||c>=A)?m(s,c):w(s,c,"0");else if(r=(t=K(new U(t),e,i)).e,a=(s=p(t.c)).length,1==o||2==o&&(e<=r||r<=P)){for(;a<e;s+="0",a++);s=m(s,r)}else if(e-=c,s=w(s,r,"0"),r+1>a){if(--e>0)for(s+=".";e--;s+="0");}else if((e+=r-a)>0)for(r+1==a&&(s+=".");e--;s+="0");return t.s<0&&n?"-"+s:s}function z(t,e){for(var i,o,n=1,r=new U(t[0]);n<t.length;n++)(!(o=new U(t[n])).s||(i=v(r,o))===e||0===i&&r.s===e)&&(r=o);return r}function W(t,e,i){for(var o=1,n=e.length;!e[--n];e.pop());for(n=e[0];n>=10;n/=10,o++);return(i=o+i*h-1)>D?t.c=t.e=null:i<j?t.c=[t.e=0]:(t.e=i,t.c=e),t}function K(t,e,i,o){var c,a,u,f,d,p,v,_=t.c,y=l;if(_){t:{for(c=1,f=_[0];f>=10;f/=10,c++);if((a=e-c)<0)a+=h,u=e,d=_[p=0],v=r(d/y[c-u-1]%10);else if((p=n((a+1)/h))>=_.length){if(!o)break t;for(;_.length<=p;_.push(0));d=v=0,c=1,u=(a%=h)-h+1}else{for(d=f=_[p],c=1;f>=10;f/=10,c++);v=(u=(a%=h)-h+c)<0?0:r(d/y[c-u-1]%10)}if(o=o||e<0||null!=_[p+1]||(u<0?d:d%y[c-u-1]),o=i<4?(v||o)&&(0==i||i==(t.s<0?3:2)):v>5||5==v&&(4==i||o||6==i&&(a>0?u>0?d/y[c-u]:0:_[p-1])%10&1||i==(t.s<0?8:7)),e<1||!_[0])return _.length=0,o?(e-=t.e+1,_[0]=y[(h-e%h)%h],t.e=-e||0):_[0]=t.e=0,t;if(0==a?(_.length=p,f=1,p--):(_.length=p+1,f=y[h-a],_[p]=u>0?r(d/y[c-u]%y[u])*f:0),o)for(;;){if(0==p){for(a=1,u=_[0];u>=10;u/=10,a++);for(u=_[0]+=f,f=1;u>=10;u/=10,f++);a!=f&&(t.e++,_[0]==s&&(_[0]=1));break}if(_[p]+=f,_[p]!=s)break;_[p--]=0,f=1}for(a=_.length;0===_[--a];_.pop());}t.e>D?t.c=t.e=null:t.e<j&&(t.c=[t.e=0])}return t}function q(t){var e,i=t.e;return null===i?t.toString():(e=p(t.c),e=i<=P||i>=A?m(e,i):w(e,i,"0"),t.s<0?"-"+e:e)}return U.clone=t,U.ROUND_UP=0,U.ROUND_DOWN=1,U.ROUND_CEIL=2,U.ROUND_FLOOR=3,U.ROUND_HALF_UP=4,U.ROUND_HALF_DOWN=5,U.ROUND_HALF_EVEN=6,U.ROUND_HALF_CEIL=7,U.ROUND_HALF_FLOOR=8,U.EUCLID=9,U.config=U.set=function(t){var e,i;if(null!=t){if("object"!=typeof t)throw Error(c+"Object expected: "+t);if(t.hasOwnProperty(e="DECIMAL_PLACES")&&(_(i=t[e],0,1e9,e),x=i),t.hasOwnProperty(e="ROUNDING_MODE")&&(_(i=t[e],0,8,e),T=i),t.hasOwnProperty(e="EXPONENTIAL_AT")&&((i=t[e])&&i.pop?(_(i[0],-1e9,0,e),_(i[1],0,1e9,e),P=i[0],A=i[1]):(_(i,-1e9,1e9,e),P=-(A=i<0?-i:i))),t.hasOwnProperty(e="RANGE"))if((i=t[e])&&i.pop)_(i[0],-1e9,-1,e),_(i[1],1,1e9,e),j=i[0],D=i[1];else{if(_(i,-1e9,1e9,e),!i)throw Error(c+e+" cannot be zero: "+i);j=-(D=i<0?-i:i)}if(t.hasOwnProperty(e="CRYPTO")){if((i=t[e])!==!!i)throw Error(c+e+" not true or false: "+i);if(i){if("undefined"==typeof crypto||!crypto||!crypto.getRandomValues&&!crypto.randomBytes)throw I=!i,Error(c+"crypto unavailable");I=i}else I=i}if(t.hasOwnProperty(e="MODULO_MODE")&&(_(i=t[e],0,9,e),M=i),t.hasOwnProperty(e="POW_PRECISION")&&(_(i=t[e],0,1e9,e),F=i),t.hasOwnProperty(e="FORMAT")){if("object"!=typeof(i=t[e]))throw Error(c+e+" not an object: "+i);V=i}if(t.hasOwnProperty(e="ALPHABET")){if("string"!=typeof(i=t[e])||/^.?$|[+\-.\s]|(.).*\1/.test(i))throw Error(c+e+" invalid: "+i);G="0123456789"==i.slice(0,10),B=i}}return{DECIMAL_PLACES:x,ROUNDING_MODE:T,EXPONENTIAL_AT:[P,A],RANGE:[j,D],CRYPTO:I,MODULO_MODE:M,POW_PRECISION:F,FORMAT:V,ALPHABET:B}},U.isBigNumber=function(t){if(!t||!0!==t._isBigNumber)return!1;if(!U.DEBUG)return!0;var e,i,o=t.c,n=t.e,a=t.s;t:if("[object Array]"=={}.toString.call(o)){if((1===a||-1===a)&&n>=-1e9&&n<=1e9&&n===r(n)){if(0===o[0]){if(0===n&&1===o.length)return!0;break t}if((e=(n+1)%h)<1&&(e+=h),String(o[0]).length==e){for(e=0;e<o.length;e++)if((i=o[e])<0||i>=s||i!==r(i))break t;if(0!==i)return!0}}}else if(null===o&&null===n&&(null===a||1===a||-1===a))return!0;throw Error(c+"Invalid BigNumber: "+t)},U.maximum=U.max=function(){return z(arguments,-1)},U.minimum=U.min=function(){return z(arguments,1)},U.random=(k=9007199254740992*Math.random()&2097151?function(){return r(9007199254740992*Math.random())}:function(){return 8388608*(1073741824*Math.random()|0)+(8388608*Math.random()|0)},function(t){var e,i,o,a,s,u=0,f=[],d=new U(C);if(null==t?t=x:_(t,0,1e9),a=n(t/h),I)if(crypto.getRandomValues){for(e=crypto.getRandomValues(new Uint32Array(a*=2));u<a;)(s=131072*e[u]+(e[u+1]>>>11))>=9e15?(i=crypto.getRandomValues(new Uint32Array(2)),e[u]=i[0],e[u+1]=i[1]):(f.push(s%1e14),u+=2);u=a/2}else{if(!crypto.randomBytes)throw I=!1,Error(c+"crypto unavailable");for(e=crypto.randomBytes(a*=7);u<a;)(s=281474976710656*(31&e[u])+1099511627776*e[u+1]+4294967296*e[u+2]+16777216*e[u+3]+(e[u+4]<<16)+(e[u+5]<<8)+e[u+6])>=9e15?crypto.randomBytes(7).copy(e,u):(f.push(s%1e14),u+=7);u=a/7}if(!I)for(;u<a;)(s=k())<9e15&&(f[u++]=s%1e14);for(a=f[--u],t%=h,a&&t&&(s=l[h-t],f[u]=r(a/s)*s);0===f[u];f.pop(),u--);if(u<0)f=[o=0];else{for(o=-1;0===f[0];f.splice(0,1),o-=h);for(u=1,s=f[0];s>=10;s/=10,u++);u<h&&(o-=h-u)}return d.e=o,d.c=f,d}),U.sum=function(){for(var t=1,e=arguments,i=new U(e[0]);t<e.length;)i=i.plus(e[t++]);return i},g=function(){function t(t,e,i,o){for(var n,r,c=[0],a=0,s=t.length;a<s;){for(r=c.length;r--;c[r]*=e);for(c[0]+=o.indexOf(t.charAt(a++)),n=0;n<c.length;n++)c[n]>i-1&&(null==c[n+1]&&(c[n+1]=0),c[n+1]+=c[n]/i|0,c[n]%=i)}return c.reverse()}return function(e,o,n,r,c){var a,s,h,u,l,f,d,v,_=e.indexOf("."),y=x,m=T;for(_>=0&&(u=F,F=0,e=e.replace(".",""),f=(v=new U(o)).pow(e.length-_),F=u,v.c=t(w(p(f.c),f.e,"0"),10,n,"0123456789"),v.e=v.c.length),h=u=(d=t(e,o,n,c?(a=B,"0123456789"):(a="0123456789",B))).length;0==d[--u];d.pop());if(!d[0])return a.charAt(0);if(_<0?--h:(f.c=d,f.e=h,f.s=r,d=(f=i(f,v,y,m,n)).c,l=f.r,h=f.e),_=d[s=h+y+1],u=n/2,l=l||s<0||null!=d[s+1],l=m<4?(null!=_||l)&&(0==m||m==(f.s<0?3:2)):_>u||_==u&&(4==m||l||6==m&&1&d[s-1]||m==(f.s<0?8:7)),s<1||!d[0])e=l?w(a.charAt(1),-y,a.charAt(0)):a.charAt(0);else{if(d.length=s,l)for(--n;++d[--s]>n;)d[s]=0,s||(++h,d=[1].concat(d));for(u=d.length;!d[--u];);for(_=0,e="";_<=u;e+=a.charAt(d[_++]));e=w(e,h,a.charAt(0))}return e}}(),i=function(){function t(t,e,i){var o,n,r,c,a=0,s=t.length,h=e%f,u=e/f|0;for(t=t.slice();s--;)a=((n=h*(r=t[s]%f)+(o=u*r+(c=t[s]/f|0)*h)%f*f+a)/i|0)+(o/f|0)+u*c,t[s]=n%i;return a&&(t=[a].concat(t)),t}function e(t,e,i,o){var n,r;if(i!=o)r=i>o?1:-1;else for(n=r=0;n<i;n++)if(t[n]!=e[n]){r=t[n]>e[n]?1:-1;break}return r}function i(t,e,i,o){for(var n=0;i--;)t[i]-=n,n=t[i]<e[i]?1:0,t[i]=n*o+t[i]-e[i];for(;!t[0]&&t.length>1;t.splice(0,1));}return function(o,n,c,a,u){var l,f,p,v,_,y,m,w,g,b,k,L,E,O,R,S,N,C=o.s==n.s?1:-1,x=o.c,T=n.c;if(!(x&&x[0]&&T&&T[0]))return new U(o.s&&n.s&&(x?!T||x[0]!=T[0]:T)?x&&0==x[0]||!T?0*C:C/0:NaN);for(g=(w=new U(C)).c=[],C=c+(f=o.e-n.e)+1,u||(u=s,f=d(o.e/h)-d(n.e/h),C=C/h|0),p=0;T[p]==(x[p]||0);p++);if(T[p]>(x[p]||0)&&f--,C<0)g.push(1),v=!0;else{for(O=x.length,S=T.length,p=0,C+=2,(_=r(u/(T[0]+1)))>1&&(T=t(T,_,u),x=t(x,_,u),S=T.length,O=x.length),E=S,k=(b=x.slice(0,S)).length;k<S;b[k++]=0);N=T.slice(),N=[0].concat(N),R=T[0],T[1]>=u/2&&R++;do{if(_=0,(l=e(T,b,S,k))<0){if(L=b[0],S!=k&&(L=L*u+(b[1]||0)),(_=r(L/R))>1)for(_>=u&&(_=u-1),m=(y=t(T,_,u)).length,k=b.length;1==e(y,b,m,k);)_--,i(y,S<m?N:T,m,u),m=y.length,l=1;else 0==_&&(l=_=1),m=(y=T.slice()).length;if(m<k&&(y=[0].concat(y)),i(b,y,k,u),k=b.length,-1==l)for(;e(T,b,S,k)<1;)_++,i(b,S<k?N:T,k,u),k=b.length}else 0===l&&(_++,b=[0]);g[p++]=_,b[0]?b[k++]=x[E]||0:(b=[x[E]],k=1)}while((E++<O||null!=b[0])&&C--);v=null!=b[0],g[0]||g.splice(0,1)}if(u==s){for(p=1,C=g[0];C>=10;C/=10,p++);K(w,c+(w.e=p+f*h-1)+1,a,v)}else w.e=f,w.r=+v;return w}}(),L=/^(-?)0([xbo])(?=\w[\w.]*$)/i,E=/^([^.]+)\.$/,O=/^\.([^.]+)$/,R=/^-?(Infinity|NaN)$/,S=/^\s*\+(?=[\w.])|^\s+|\s+$/g,b=function(t,e,i,o){var n,r=i?e:e.replace(S,"");if(R.test(r))t.s=isNaN(r)?null:r<0?-1:1;else{if(!i&&(r=r.replace(L,function(t,e,i){return n="x"==(i=i.toLowerCase())?16:"b"==i?2:8,o&&o!=n?t:e}),o&&(n=o,r=r.replace(E,"$1").replace(O,"0.$1")),e!=r))return new U(r,n);if(U.DEBUG)throw Error(c+"Not a"+(o?" base "+o:"")+" number: "+e);t.s=null}t.c=t.e=null},N.absoluteValue=N.abs=function(){var t=new U(this);return t.s<0&&(t.s=1),t},N.comparedTo=function(t,e){return v(this,new U(t,e))},N.decimalPlaces=N.dp=function(t,e){var i,o,n,r=this;if(null!=t)return _(t,0,1e9),null==e?e=T:_(e,0,8),K(new U(r),t+r.e+1,e);if(!(i=r.c))return null;if(o=((n=i.length-1)-d(this.e/h))*h,n=i[n])for(;n%10==0;n/=10,o--);return o<0&&(o=0),o},N.dividedBy=N.div=function(t,e){return i(this,new U(t,e),x,T)},N.dividedToIntegerBy=N.idiv=function(t,e){return i(this,new U(t,e),0,1)},N.exponentiatedBy=N.pow=function(t,e){var i,o,a,s,u,l,f,d,p=this;if((t=new U(t)).c&&!t.isInteger())throw Error(c+"Exponent not an integer: "+q(t));if(null!=e&&(e=new U(e)),u=t.e>14,!p.c||!p.c[0]||1==p.c[0]&&!p.e&&1==p.c.length||!t.c||!t.c[0])return d=new U(Math.pow(+q(p),u?t.s*(2-y(t)):+q(t))),e?d.mod(e):d;if(l=t.s<0,e){if(e.c?!e.c[0]:!e.s)return new U(NaN);(o=!l&&p.isInteger()&&e.isInteger())&&(p=p.mod(e))}else{if(t.e>9&&(p.e>0||p.e<-1||(0==p.e?p.c[0]>1||u&&p.c[1]>=24e7:p.c[0]<8e13||u&&p.c[0]<=9999975e7)))return s=p.s<0&&y(t)?-0:0,p.e>-1&&(s=1/s),new U(l?1/s:s);F&&(s=n(F/h+2))}for(u?(i=new U(.5),l&&(t.s=1),f=y(t)):f=(a=Math.abs(+q(t)))%2,d=new U(C);;){if(f){if(!(d=d.times(p)).c)break;s?d.c.length>s&&(d.c.length=s):o&&(d=d.mod(e))}if(a){if(0===(a=r(a/2)))break;f=a%2}else if(K(t=t.times(i),t.e+1,1),t.e>14)f=y(t);else{if(0==(a=+q(t)))break;f=a%2}p=p.times(p),s?p.c&&p.c.length>s&&(p.c.length=s):o&&(p=p.mod(e))}return o?d:(l&&(d=C.div(d)),e?d.mod(e):s?K(d,F,T,void 0):d)},N.integerValue=function(t){var e=new U(this);return null==t?t=T:_(t,0,8),K(e,e.e+1,t)},N.isEqualTo=N.eq=function(t,e){return 0===v(this,new U(t,e))},N.isFinite=function(){return!!this.c},N.isGreaterThan=N.gt=function(t,e){return v(this,new U(t,e))>0},N.isGreaterThanOrEqualTo=N.gte=function(t,e){return 1===(e=v(this,new U(t,e)))||0===e},N.isInteger=function(){return!!this.c&&d(this.e/h)>this.c.length-2},N.isLessThan=N.lt=function(t,e){return v(this,new U(t,e))<0},N.isLessThanOrEqualTo=N.lte=function(t,e){return-1===(e=v(this,new U(t,e)))||0===e},N.isNaN=function(){return!this.s},N.isNegative=function(){return this.s<0},N.isPositive=function(){return this.s>0},N.isZero=function(){return!!this.c&&0==this.c[0]},N.minus=function(t,e){var i,o,n,r,c=this,a=c.s;if(e=(t=new U(t,e)).s,!a||!e)return new U(NaN);if(a!=e)return t.s=-e,c.plus(t);var u=c.e/h,l=t.e/h,f=c.c,p=t.c;if(!u||!l){if(!f||!p)return f?(t.s=-e,t):new U(p?c:NaN);if(!f[0]||!p[0])return p[0]?(t.s=-e,t):new U(f[0]?c:3==T?-0:0)}if(u=d(u),l=d(l),f=f.slice(),a=u-l){for((r=a<0)?(a=-a,n=f):(l=u,n=p),n.reverse(),e=a;e--;n.push(0));n.reverse()}else for(o=(r=(a=f.length)<(e=p.length))?a:e,a=e=0;e<o;e++)if(f[e]!=p[e]){r=f[e]<p[e];break}if(r&&(n=f,f=p,p=n,t.s=-t.s),(e=(o=p.length)-(i=f.length))>0)for(;e--;f[i++]=0);for(e=s-1;o>a;){if(f[--o]<p[o]){for(i=o;i&&!f[--i];f[i]=e);--f[i],f[o]+=s}f[o]-=p[o]}for(;0==f[0];f.splice(0,1),--l);return f[0]?W(t,f,l):(t.s=3==T?-1:1,t.c=[t.e=0],t)},N.modulo=N.mod=function(t,e){var o,n,r=this;return t=new U(t,e),!r.c||!t.s||t.c&&!t.c[0]?new U(NaN):!t.c||r.c&&!r.c[0]?new U(r):(9==M?(n=t.s,t.s=1,o=i(r,t,0,3),t.s=n,o.s*=n):o=i(r,t,0,M),(t=r.minus(o.times(t))).c[0]||1!=M||(t.s=r.s),t)},N.multipliedBy=N.times=function(t,e){var i,o,n,r,c,a,u,l,p,v,_,y,m,w,g,b=this,k=b.c,L=(t=new U(t,e)).c;if(!(k&&L&&k[0]&&L[0]))return!b.s||!t.s||k&&!k[0]&&!L||L&&!L[0]&&!k?t.c=t.e=t.s=null:(t.s*=b.s,k&&L?(t.c=[0],t.e=0):t.c=t.e=null),t;for(o=d(b.e/h)+d(t.e/h),t.s*=b.s,(u=k.length)<(v=L.length)&&(m=k,k=L,L=m,n=u,u=v,v=n),n=u+v,m=[];n--;m.push(0));for(w=s,g=f,n=v;--n>=0;){for(i=0,_=L[n]%g,y=L[n]/g|0,r=n+(c=u);r>n;)i=((l=_*(l=k[--c]%g)+(a=y*l+(p=k[c]/g|0)*_)%g*g+m[r]+i)/w|0)+(a/g|0)+y*p,m[r--]=l%w;m[r]=i}return i?++o:m.splice(0,1),W(t,m,o)},N.negated=function(){var t=new U(this);return t.s=-t.s||null,t},N.plus=function(t,e){var i,o=this,n=o.s;if(e=(t=new U(t,e)).s,!n||!e)return new U(NaN);if(n!=e)return t.s=-e,o.minus(t);var r=o.e/h,c=t.e/h,a=o.c,u=t.c;if(!r||!c){if(!a||!u)return new U(n/0);if(!a[0]||!u[0])return u[0]?t:new U(a[0]?o:0*n)}if(r=d(r),c=d(c),a=a.slice(),n=r-c){for(n>0?(c=r,i=u):(n=-n,i=a),i.reverse();n--;i.push(0));i.reverse()}for((n=a.length)-(e=u.length)<0&&(i=u,u=a,a=i,e=n),n=0;e;)n=(a[--e]=a[e]+u[e]+n)/s|0,a[e]=s===a[e]?0:a[e]%s;return n&&(a=[n].concat(a),++c),W(t,a,c)},N.precision=N.sd=function(t,e){var i,o,n,r=this;if(null!=t&&t!==!!t)return _(t,1,1e9),null==e?e=T:_(e,0,8),K(new U(r),t,e);if(!(i=r.c))return null;if(o=(n=i.length-1)*h+1,n=i[n]){for(;n%10==0;n/=10,o--);for(n=i[0];n>=10;n/=10,o++);}return t&&r.e+1>o&&(o=r.e+1),o},N.shiftedBy=function(t){return _(t,-u,u),this.times("1e"+t)},N.squareRoot=N.sqrt=function(){var t,e,o,n,r,c=this,a=c.c,s=c.s,h=c.e,u=x+4,l=new U("0.5");if(1!==s||!a||!a[0])return new U(!s||s<0&&(!a||a[0])?NaN:a?c:1/0);if(0==(s=Math.sqrt(+q(c)))||s==1/0?(((e=p(a)).length+h)%2==0&&(e+="0"),s=Math.sqrt(+e),h=d((h+1)/2)-(h<0||h%2),o=new U(e=s==1/0?"5e"+h:(e=s.toExponential()).slice(0,e.indexOf("e")+1)+h)):o=new U(s+""),o.c[0])for((s=(h=o.e)+u)<3&&(s=0);;)if(r=o,o=l.times(r.plus(i(c,r,u,1))),p(r.c).slice(0,s)===(e=p(o.c)).slice(0,s)){if(o.e<h&&--s,"9999"!=(e=e.slice(s-3,s+1))&&(n||"4999"!=e)){+e&&(+e.slice(1)||"5"!=e.charAt(0))||(K(o,o.e+x+2,1),t=!o.times(o).eq(c));break}if(!n&&(K(r,r.e+x+2,0),r.times(r).eq(c))){o=r;break}u+=4,s+=4,n=1}return K(o,o.e+x+1,T,t)},N.toExponential=function(t,e){return null!=t&&(_(t,0,1e9),t++),H(this,t,e,1)},N.toFixed=function(t,e){return null!=t&&(_(t,0,1e9),t=t+this.e+1),H(this,t,e)},N.toFormat=function(t,e,i){var o,n=this;if(null==i)null!=t&&e&&"object"==typeof e?(i=e,e=null):t&&"object"==typeof t?(i=t,t=e=null):i=V;else if("object"!=typeof i)throw Error(c+"Argument not an object: "+i);if(o=n.toFixed(t,e),n.c){var r,a=o.split("."),s=+i.groupSize,h=+i.secondaryGroupSize,u=i.groupSeparator||"",l=a[0],f=a[1],d=n.s<0,p=d?l.slice(1):l,v=p.length;if(h&&(r=s,s=h,h=r,v-=r),s>0&&v>0){for(r=v%s||s,l=p.substr(0,r);r<v;r+=s)l+=u+p.substr(r,s);h>0&&(l+=u+p.slice(r)),d&&(l="-"+l)}o=f?l+(i.decimalSeparator||"")+((h=+i.fractionGroupSize)?f.replace(new RegExp("\\d{"+h+"}\\B","g"),"$&"+(i.fractionGroupSeparator||"")):f):l}return(i.prefix||"")+o+(i.suffix||"")},N.toFraction=function(t){var e,o,n,r,a,s,u,f,d,v,_,y,m=this,w=m.c;if(null!=t&&(!(u=new U(t)).isInteger()&&(u.c||1!==u.s)||u.lt(C)))throw Error(c+"Argument "+(u.isInteger()?"out of range: ":"not an integer: ")+q(u));if(!w)return new U(m);for(e=new U(C),d=o=new U(C),n=f=new U(C),y=p(w),a=e.e=y.length-m.e-1,e.c[0]=l[(s=a%h)<0?h+s:s],t=!t||u.comparedTo(e)>0?a>0?e:d:u,s=D,D=1/0,u=new U(y),f.c[0]=0;v=i(u,e,0,1),1!=(r=o.plus(v.times(n))).comparedTo(t);)o=n,n=r,d=f.plus(v.times(r=d)),f=r,e=u.minus(v.times(r=e)),u=r;return r=i(t.minus(o),n,0,1),f=f.plus(r.times(d)),o=o.plus(r.times(n)),f.s=d.s=m.s,_=i(d,n,a*=2,T).minus(m).abs().comparedTo(i(f,o,a,T).minus(m).abs())<1?[d,n]:[f,o],D=s,_},N.toNumber=function(){return+q(this)},N.toPrecision=function(t,e){return null!=t&&_(t,1,1e9),H(this,t,e,2)},N.toString=function(t){var e,i=this,o=i.s,n=i.e;return null===n?o?(e="Infinity",o<0&&(e="-"+e)):e="NaN":(null==t?e=n<=P||n>=A?m(p(i.c),n):w(p(i.c),n,"0"):10===t&&G?e=w(p((i=K(new U(i),x+n+1,T)).c),i.e,"0"):(_(t,2,B.length,"Base"),e=g(w(p(i.c),n,"0"),10,t,o,!0)),o<0&&i.c[0]&&(e="-"+e)),e},N.valueOf=N.toJSON=function(){return q(this)},N._isBigNumber=!0,null!=e&&U.set(e),U}()).default=i.BigNumber=i,"function"==typeof define&&define.amd?define(function(){return i}):void 0!==e&&e.exports?e.exports=i:(t||(t="undefined"!=typeof self&&self?self:window),t.BigNumber=i)})(this)},{}],4:[function(t,e){(function(i,o){(function(){"use strict";var n="object"==typeof window,r=n?window:{};r.JS_MD5_NO_WINDOW&&(n=!1);var c=!n&&"object"==typeof self,a=!r.JS_MD5_NO_NODE_JS&&"object"==typeof i&&i.versions&&i.versions.node;a?r=o:c&&(r=self);var s,h=!r.JS_MD5_NO_COMMON_JS&&"object"==typeof e&&e.exports,u="function"==typeof define&&define.amd,l=!r.JS_MD5_NO_ARRAY_BUFFER&&"undefined"!=typeof ArrayBuffer,f="0123456789abcdef".split(""),d=[128,32768,8388608,-2147483648],p=[0,8,16,24],v=["hex","array","digest","buffer","arrayBuffer","base64"],_="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),y=[];if(l){var m=new ArrayBuffer(68);s=new Uint8Array(m),y=new Uint32Array(m)}var w=Array.isArray;!r.JS_MD5_NO_NODE_JS&&w||(w=function(t){return"[object Array]"===Object.prototype.toString.call(t)});var g=ArrayBuffer.isView;!l||!r.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW&&g||(g=function(t){return"object"==typeof t&&t.buffer&&t.buffer.constructor===ArrayBuffer});var b=function(t){var e=typeof t;if("string"===e)return[t,!0];if("object"!==e||null===t)throw new Error("input is invalid type");if(l&&t.constructor===ArrayBuffer)return[new Uint8Array(t),!1];if(!w(t)&&!g(t))throw new Error("input is invalid type");return[t,!1]},k=function(t){return function(e){return new O(!0).update(e)[t]()}},L=function(e){var i,o=t("crypto"),n=t("buffer").Buffer;return i=n.from&&!r.JS_MD5_NO_BUFFER_FROM?n.from:function(t){return new n(t)},function(t){if("string"==typeof t)return o.createHash("md5").update(t,"utf8").digest("hex");if(null==t)throw new Error("input is invalid type");return t.constructor===ArrayBuffer&&(t=new Uint8Array(t)),w(t)||g(t)||t.constructor===n?o.createHash("md5").update(i(t)).digest("hex"):e(t)}},E=function(t){return function(e,i){return new R(e,!0).update(i)[t]()}};function O(t){if(t)y[0]=y[16]=y[1]=y[2]=y[3]=y[4]=y[5]=y[6]=y[7]=y[8]=y[9]=y[10]=y[11]=y[12]=y[13]=y[14]=y[15]=0,this.blocks=y,this.buffer8=s;else if(l){var e=new ArrayBuffer(68);this.buffer8=new Uint8Array(e),this.blocks=new Uint32Array(e)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}function R(t,e){var i,o=b(t);if(t=o[0],o[1]){var n,r=[],c=t.length,a=0;for(i=0;i<c;++i)(n=t.charCodeAt(i))<128?r[a++]=n:n<2048?(r[a++]=192|n>>>6,r[a++]=128|63&n):n<55296||n>=57344?(r[a++]=224|n>>>12,r[a++]=128|n>>>6&63,r[a++]=128|63&n):(n=65536+((1023&n)<<10|1023&t.charCodeAt(++i)),r[a++]=240|n>>>18,r[a++]=128|n>>>12&63,r[a++]=128|n>>>6&63,r[a++]=128|63&n);t=r}t.length>64&&(t=new O(!0).update(t).array());var s=[],h=[];for(i=0;i<64;++i){var u=t[i]||0;s[i]=92^u,h[i]=54^u}O.call(this,e),this.update(h),this.oKeyPad=s,this.inner=!0,this.sharedMemory=e}O.prototype.update=function(t){if(this.finalized)throw new Error("finalize already called");var e=b(t);t=e[0];for(var i,o,n=e[1],r=0,c=t.length,a=this.blocks,s=this.buffer8;r<c;){if(this.hashed&&(this.hashed=!1,a[0]=a[16],a[16]=a[1]=a[2]=a[3]=a[4]=a[5]=a[6]=a[7]=a[8]=a[9]=a[10]=a[11]=a[12]=a[13]=a[14]=a[15]=0),n)if(l)for(o=this.start;r<c&&o<64;++r)(i=t.charCodeAt(r))<128?s[o++]=i:i<2048?(s[o++]=192|i>>>6,s[o++]=128|63&i):i<55296||i>=57344?(s[o++]=224|i>>>12,s[o++]=128|i>>>6&63,s[o++]=128|63&i):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),s[o++]=240|i>>>18,s[o++]=128|i>>>12&63,s[o++]=128|i>>>6&63,s[o++]=128|63&i);else for(o=this.start;r<c&&o<64;++r)(i=t.charCodeAt(r))<128?a[o>>>2]|=i<<p[3&o++]:i<2048?(a[o>>>2]|=(192|i>>>6)<<p[3&o++],a[o>>>2]|=(128|63&i)<<p[3&o++]):i<55296||i>=57344?(a[o>>>2]|=(224|i>>>12)<<p[3&o++],a[o>>>2]|=(128|i>>>6&63)<<p[3&o++],a[o>>>2]|=(128|63&i)<<p[3&o++]):(i=65536+((1023&i)<<10|1023&t.charCodeAt(++r)),a[o>>>2]|=(240|i>>>18)<<p[3&o++],a[o>>>2]|=(128|i>>>12&63)<<p[3&o++],a[o>>>2]|=(128|i>>>6&63)<<p[3&o++],a[o>>>2]|=(128|63&i)<<p[3&o++]);else if(l)for(o=this.start;r<c&&o<64;++r)s[o++]=t[r];else for(o=this.start;r<c&&o<64;++r)a[o>>>2]|=t[r]<<p[3&o++];this.lastByteIndex=o,this.bytes+=o-this.start,o>=64?(this.start=o-64,this.hash(),this.hashed=!0):this.start=o}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},O.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var t=this.blocks,e=this.lastByteIndex;t[e>>>2]|=d[3&e],e>=56&&(this.hashed||this.hash(),t[0]=t[16],t[16]=t[1]=t[2]=t[3]=t[4]=t[5]=t[6]=t[7]=t[8]=t[9]=t[10]=t[11]=t[12]=t[13]=t[14]=t[15]=0),t[14]=this.bytes<<3,t[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},O.prototype.hash=function(){var t,e,i,o,n,r,c=this.blocks;this.first?e=((e=((t=((t=c[0]-680876937)<<7|t>>>25)-271733879<<0)^(i=((i=(-271733879^(o=((o=(-1732584194^2004318071&t)+c[1]-117830708)<<12|o>>>20)+t<<0)&(-271733879^t))+c[2]-1126478375)<<17|i>>>15)+o<<0)&(o^t))+c[3]-1316259209)<<22|e>>>10)+i<<0:(t=this.h0,e=this.h1,i=this.h2,e=((e+=((t=((t+=((o=this.h3)^e&(i^o))+c[0]-680876936)<<7|t>>>25)+e<<0)^(i=((i+=(e^(o=((o+=(i^t&(e^i))+c[1]-389564586)<<12|o>>>20)+t<<0)&(t^e))+c[2]+606105819)<<17|i>>>15)+o<<0)&(o^t))+c[3]-1044525330)<<22|e>>>10)+i<<0),e=((e+=((t=((t+=(o^e&(i^o))+c[4]-176418897)<<7|t>>>25)+e<<0)^(i=((i+=(e^(o=((o+=(i^t&(e^i))+c[5]+1200080426)<<12|o>>>20)+t<<0)&(t^e))+c[6]-1473231341)<<17|i>>>15)+o<<0)&(o^t))+c[7]-45705983)<<22|e>>>10)+i<<0,e=((e+=((t=((t+=(o^e&(i^o))+c[8]+1770035416)<<7|t>>>25)+e<<0)^(i=((i+=(e^(o=((o+=(i^t&(e^i))+c[9]-1958414417)<<12|o>>>20)+t<<0)&(t^e))+c[10]-42063)<<17|i>>>15)+o<<0)&(o^t))+c[11]-1990404162)<<22|e>>>10)+i<<0,e=((e+=((t=((t+=(o^e&(i^o))+c[12]+1804603682)<<7|t>>>25)+e<<0)^(i=((i+=(e^(o=((o+=(i^t&(e^i))+c[13]-40341101)<<12|o>>>20)+t<<0)&(t^e))+c[14]-1502002290)<<17|i>>>15)+o<<0)&(o^t))+c[15]+1236535329)<<22|e>>>10)+i<<0,e=((e+=((o=((o+=(e^i&((t=((t+=(i^o&(e^i))+c[1]-165796510)<<5|t>>>27)+e<<0)^e))+c[6]-1069501632)<<9|o>>>23)+t<<0)^t&((i=((i+=(t^e&(o^t))+c[11]+643717713)<<14|i>>>18)+o<<0)^o))+c[0]-373897302)<<20|e>>>12)+i<<0,e=((e+=((o=((o+=(e^i&((t=((t+=(i^o&(e^i))+c[5]-701558691)<<5|t>>>27)+e<<0)^e))+c[10]+38016083)<<9|o>>>23)+t<<0)^t&((i=((i+=(t^e&(o^t))+c[15]-660478335)<<14|i>>>18)+o<<0)^o))+c[4]-405537848)<<20|e>>>12)+i<<0,e=((e+=((o=((o+=(e^i&((t=((t+=(i^o&(e^i))+c[9]+568446438)<<5|t>>>27)+e<<0)^e))+c[14]-1019803690)<<9|o>>>23)+t<<0)^t&((i=((i+=(t^e&(o^t))+c[3]-187363961)<<14|i>>>18)+o<<0)^o))+c[8]+1163531501)<<20|e>>>12)+i<<0,e=((e+=((o=((o+=(e^i&((t=((t+=(i^o&(e^i))+c[13]-1444681467)<<5|t>>>27)+e<<0)^e))+c[2]-51403784)<<9|o>>>23)+t<<0)^t&((i=((i+=(t^e&(o^t))+c[7]+1735328473)<<14|i>>>18)+o<<0)^o))+c[12]-1926607734)<<20|e>>>12)+i<<0,e=((e+=((r=(o=((o+=((n=e^i)^(t=((t+=(n^o)+c[5]-378558)<<4|t>>>28)+e<<0))+c[8]-2022574463)<<11|o>>>21)+t<<0)^t)^(i=((i+=(r^e)+c[11]+1839030562)<<16|i>>>16)+o<<0))+c[14]-35309556)<<23|e>>>9)+i<<0,e=((e+=((r=(o=((o+=((n=e^i)^(t=((t+=(n^o)+c[1]-1530992060)<<4|t>>>28)+e<<0))+c[4]+1272893353)<<11|o>>>21)+t<<0)^t)^(i=((i+=(r^e)+c[7]-155497632)<<16|i>>>16)+o<<0))+c[10]-1094730640)<<23|e>>>9)+i<<0,e=((e+=((r=(o=((o+=((n=e^i)^(t=((t+=(n^o)+c[13]+681279174)<<4|t>>>28)+e<<0))+c[0]-358537222)<<11|o>>>21)+t<<0)^t)^(i=((i+=(r^e)+c[3]-722521979)<<16|i>>>16)+o<<0))+c[6]+76029189)<<23|e>>>9)+i<<0,e=((e+=((r=(o=((o+=((n=e^i)^(t=((t+=(n^o)+c[9]-640364487)<<4|t>>>28)+e<<0))+c[12]-421815835)<<11|o>>>21)+t<<0)^t)^(i=((i+=(r^e)+c[15]+530742520)<<16|i>>>16)+o<<0))+c[2]-995338651)<<23|e>>>9)+i<<0,e=((e+=((o=((o+=(e^((t=((t+=(i^(e|~o))+c[0]-198630844)<<6|t>>>26)+e<<0)|~i))+c[7]+1126891415)<<10|o>>>22)+t<<0)^((i=((i+=(t^(o|~e))+c[14]-1416354905)<<15|i>>>17)+o<<0)|~t))+c[5]-57434055)<<21|e>>>11)+i<<0,e=((e+=((o=((o+=(e^((t=((t+=(i^(e|~o))+c[12]+1700485571)<<6|t>>>26)+e<<0)|~i))+c[3]-1894986606)<<10|o>>>22)+t<<0)^((i=((i+=(t^(o|~e))+c[10]-1051523)<<15|i>>>17)+o<<0)|~t))+c[1]-2054922799)<<21|e>>>11)+i<<0,e=((e+=((o=((o+=(e^((t=((t+=(i^(e|~o))+c[8]+1873313359)<<6|t>>>26)+e<<0)|~i))+c[15]-30611744)<<10|o>>>22)+t<<0)^((i=((i+=(t^(o|~e))+c[6]-1560198380)<<15|i>>>17)+o<<0)|~t))+c[13]+1309151649)<<21|e>>>11)+i<<0,e=((e+=((o=((o+=(e^((t=((t+=(i^(e|~o))+c[4]-145523070)<<6|t>>>26)+e<<0)|~i))+c[11]-1120210379)<<10|o>>>22)+t<<0)^((i=((i+=(t^(o|~e))+c[2]+718787259)<<15|i>>>17)+o<<0)|~t))+c[9]-343485551)<<21|e>>>11)+i<<0,this.first?(this.h0=t+1732584193<<0,this.h1=e-271733879<<0,this.h2=i-1732584194<<0,this.h3=o+271733878<<0,this.first=!1):(this.h0=this.h0+t<<0,this.h1=this.h1+e<<0,this.h2=this.h2+i<<0,this.h3=this.h3+o<<0)},O.prototype.hex=function(){this.finalize();var t=this.h0,e=this.h1,i=this.h2,o=this.h3;return f[t>>>4&15]+f[15&t]+f[t>>>12&15]+f[t>>>8&15]+f[t>>>20&15]+f[t>>>16&15]+f[t>>>28&15]+f[t>>>24&15]+f[e>>>4&15]+f[15&e]+f[e>>>12&15]+f[e>>>8&15]+f[e>>>20&15]+f[e>>>16&15]+f[e>>>28&15]+f[e>>>24&15]+f[i>>>4&15]+f[15&i]+f[i>>>12&15]+f[i>>>8&15]+f[i>>>20&15]+f[i>>>16&15]+f[i>>>28&15]+f[i>>>24&15]+f[o>>>4&15]+f[15&o]+f[o>>>12&15]+f[o>>>8&15]+f[o>>>20&15]+f[o>>>16&15]+f[o>>>28&15]+f[o>>>24&15]},O.prototype.toString=O.prototype.hex,O.prototype.digest=function(){this.finalize();var t=this.h0,e=this.h1,i=this.h2,o=this.h3;return[255&t,t>>>8&255,t>>>16&255,t>>>24&255,255&e,e>>>8&255,e>>>16&255,e>>>24&255,255&i,i>>>8&255,i>>>16&255,i>>>24&255,255&o,o>>>8&255,o>>>16&255,o>>>24&255]},O.prototype.array=O.prototype.digest,O.prototype.arrayBuffer=function(){this.finalize();var t=new ArrayBuffer(16),e=new Uint32Array(t);return e[0]=this.h0,e[1]=this.h1,e[2]=this.h2,e[3]=this.h3,t},O.prototype.buffer=O.prototype.arrayBuffer,O.prototype.base64=function(){for(var t,e,i,o="",n=this.array(),r=0;r<15;)t=n[r++],e=n[r++],i=n[r++],o+=_[t>>>2]+_[63&(t<<4|e>>>4)]+_[63&(e<<2|i>>>6)]+_[63&i];return t=n[r],o+(_[t>>>2]+_[t<<4&63]+"==")},R.prototype=new O,R.prototype.finalize=function(){if(O.prototype.finalize.call(this),this.inner){this.inner=!1;var t=this.array();O.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(t),O.prototype.finalize.call(this)}};var S=function(){var t=k("hex");a&&(t=L(t)),t.create=function(){return new O},t.update=function(e){return t.create().update(e)};for(var e=0;e<v.length;++e){var i=v[e];t[i]=k(i)}return t}();S.md5=S,S.md5.hmac=function(){var t=E("hex");t.create=function(t){return new R(t)},t.update=function(e,i){return t.create(e).update(i)};for(var e=0;e<v.length;++e){var i=v[e];t[i]=E(i)}return t}(),h?e.exports=S:(r.md5=S,u&&define(function(){return S}))})()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:2,buffer:1,crypto:1}],5:[function(t,e){var i=t("./lib/stringify.js").stringify,o=t("./lib/parse.js");e.exports=function(t){return{parse:o(t),stringify:i}},e.exports.parse=o(),e.exports.stringify=i},{"./lib/parse.js":6,"./lib/stringify.js":7}],6:[function(t,e){var i=null;const o=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,n=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;e.exports=function(e){"use strict";var r={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(null!=e){if(!0===e.strict&&(r.strict=!0),!0===e.storeAsString&&(r.storeAsString=!0),r.alwaysParseAsBig=!0===e.alwaysParseAsBig&&e.alwaysParseAsBig,r.useNativeBigInt=!0===e.useNativeBigInt&&e.useNativeBigInt,void 0!==e.constructorAction){if("error"!==e.constructorAction&&"ignore"!==e.constructorAction&&"preserve"!==e.constructorAction)throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${e.constructorAction}`);r.constructorAction=e.constructorAction}if(void 0!==e.protoAction){if("error"!==e.protoAction&&"ignore"!==e.protoAction&&"preserve"!==e.protoAction)throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${e.protoAction}`);r.protoAction=e.protoAction}}var c,a,s,h,u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},l=function(t){throw{name:"SyntaxError",message:t,at:c,text:s}},f=function(t){return t&&t!==a&&l("Expected '"+t+"' instead of '"+a+"'"),a=s.charAt(c),c+=1,a},d=function(){var e,o="";for("-"===a&&(o="-",f("-"));a>="0"&&a<="9";)o+=a,f();if("."===a)for(o+=".";f()&&a>="0"&&a<="9";)o+=a;if("e"===a||"E"===a)for(o+=a,f(),"-"!==a&&"+"!==a||(o+=a,f());a>="0"&&a<="9";)o+=a,f();if(e=+o,isFinite(e))return null==i&&(i=t("bignumber.js")),o.length>15?r.storeAsString?o:r.useNativeBigInt?BigInt(o):new i(o):r.alwaysParseAsBig?r.useNativeBigInt?BigInt(e):new i(e):e;l("Bad number")},p=function(){var t,e,i,o="";if('"'===a)for(var n=c;f();){if('"'===a)return c-1>n&&(o+=s.substring(n,c-1)),f(),o;if("\\"===a){if(c-1>n&&(o+=s.substring(n,c-1)),f(),"u"===a){for(i=0,e=0;e<4&&(t=parseInt(f(),16),isFinite(t));e+=1)i=16*i+t;o+=String.fromCharCode(i)}else{if("string"!=typeof u[a])break;o+=u[a]}n=c}}l("Bad string")},v=function(){for(;a&&a<=" ";)f()},_=function(){switch(a){case"t":return f("t"),f("r"),f("u"),f("e"),!0;case"f":return f("f"),f("a"),f("l"),f("s"),f("e"),!1;case"n":return f("n"),f("u"),f("l"),f("l"),null}l("Unexpected '"+a+"'")},y=function(){var t=[];if("["===a){if(f("["),v(),"]"===a)return f("]"),t;for(;a;){if(t.push(h()),v(),"]"===a)return f("]"),t;f(","),v()}}l("Bad array")},m=function(){var t,e=Object.create(null);if("{"===a){if(f("{"),v(),"}"===a)return f("}"),e;for(;a;){if(t=p(),v(),f(":"),!0===r.strict&&Object.hasOwnProperty.call(e,t)&&l('Duplicate key "'+t+'"'),!0===o.test(t)?"error"===r.protoAction?l("Object contains forbidden prototype property"):"ignore"===r.protoAction?h():e[t]=h():!0===n.test(t)?"error"===r.constructorAction?l("Object contains forbidden constructor property"):"ignore"===r.constructorAction?h():e[t]=h():e[t]=h(),v(),"}"===a)return f("}"),e;f(","),v()}}l("Bad object")};return h=function(){switch(v(),a){case"{":return m();case"[":return y();case'"':return p();case"-":return d();default:return a>="0"&&a<="9"?d():_()}},function(t,e){var i;return s=t+"",c=0,a=" ",i=h(),v(),a&&l("Syntax error"),"function"==typeof e?function t(i,o){var n,r=i[o];return r&&"object"==typeof r&&Object.keys(r).forEach(function(e){void 0!==(n=t(r,e))?r[e]=n:delete r[e]}),e.call(i,o,r)}({"":i},""):i}}},{"bignumber.js":3}],7:[function(t,e){var i=t("bignumber.js"),o=e.exports;(function(){"use strict";var t,e,n,r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(t){return r.lastIndex=0,r.test(t)?'"'+t.replace(r,function(t){var e=c[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function s(o,r){var c,h,u,l,f,d=t,p=r[o],v=null!=p&&(p instanceof i||i.isBigNumber(p));switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(o)),"function"==typeof n&&(p=n.call(r,o,p)),typeof p){case"string":return v?p:a(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":case"bigint":return String(p);case"object":if(!p)return"null";if(t+=e,f=[],"[object Array]"===Object.prototype.toString.apply(p)){for(l=p.length,c=0;c<l;c+=1)f[c]=s(c,p)||"null";return u=0===f.length?"[]":t?"[\n"+t+f.join(",\n"+t)+"\n"+d+"]":"["+f.join(",")+"]",t=d,u}if(n&&"object"==typeof n)for(l=n.length,c=0;c<l;c+=1)"string"==typeof n[c]&&(u=s(h=n[c],p))&&f.push(a(h)+(t?": ":":")+u);else Object.keys(p).forEach(function(e){var i=s(e,p);i&&f.push(a(e)+(t?": ":":")+i)});return u=0===f.length?"{}":t?"{\n"+t+f.join(",\n"+t)+"\n"+d+"}":"{"+f.join(",")+"}",t=d,u}}"function"!=typeof o.stringify&&(o.stringify=function(i,o,r){var c;if(t="",e="","number"==typeof r)for(c=0;c<r;c+=1)e+=" ";else"string"==typeof r&&(e=r);if(n=o,o&&"function"!=typeof o&&("object"!=typeof o||"number"!=typeof o.length))throw new Error("JSON.stringify");return s("",{"":i})})})()},{"bignumber.js":3}],Embed:[function(t,e,i){"use strict";cc._RF.push(e,"43772SNLk5EUqHbgK3t5434","Embed");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,h=a.property,u=c(t("../core/Link")),l=c(t("./Settle")),f=c(t("./Numbers")),d=c(t("./Textures")),p=t("./Game"),v=t("./Game"),_=t("../core/tools"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.chip=null,e.history=null,e.time=null,e.countdown=null,e.diams=null,e.content=null,e.tray=null,e.bonus=null,e.chips=null,e.detonate=null,e.candidate=null,e.settle=null,e.viewNumber=null,e.extend=null,e.iterate=null,e.textures=null,e._uid="",e._dirty=0,e._balance=0,e._turn={idx:0,time:0},e._check=0,e._round=0,e._diams=-1,e._count=0,e._bonus=0,e._settle=0,e._chips=10,e._choose=null,e._state=v.State.IDLE,e._expire=0,e._countdown=0,e._timeStake=0,e._timeRoom=0,e._dataUpdate={time:0,data:[]},e._track=[0,0,0,0,0,0,0,0],e._chipPool=null,e._dataGame=null,e._dataLucky=null,e._dataChips=null,e._dataStake=null,e._viewLoading=null,e._viewExcited=null,e._viewCelebrate=null,e._viewRank=null,e._viewTable=null,e._viewHistory=null,e._viewLucky=null,e._funcLottery=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;console.info("Embed!"),this.time.string=_.obtainLocale("game_hl_djs"),this.diams.string="",this.countdown.string="",this.extend.active=!1;var e=window.obtainSearch("uid");console.info("uid:",e),e&&(this._uid=e),this._chipPool=new cc.NodePool,this.textures.updateButton(this.iterate.node),this.initLink(),this.initEvent(),this.initChips(),this.initTable(),this.initBonus(),this.initHistory(),this.initLoading(),this.settle.onHide(function(){t._settle=0,t._state==v.State.PLAY&&t.viewNumber.updateBonus(t._bonus)}),this.scheduleOnce(function(){t.initCelebrate(),cc.resources.preload("embed/history",cc.Prefab),cc.resources.preload("embed/rank",cc.Prefab),cc.resources.preload("embed/rule",cc.Prefab)},1)},e.prototype.initLink=function(){var t=this,e=u.default.instance();e.onDisconnect(function(){t.updateLoading(!0)});var i=0;e.onLinked(function(){console.info("Linked!"),i+=1,t.updateLoading(!1);var e=t._dataGame;e&&Date.now()>e.terminate?t.fetchGame():i>1&&t._state==v.State.PLAY&&t.fetchProperty()}),this.schedule(function(){e.checkLink()},1),e.start(),this.scheduleOnce(function(){e.isLinked()||t.updateLoading(!0)},2)},e.prototype.initEvent=function(){cc.director.on("90160",this.onLuckyEvent,this),cc.director.on("90161",this.onGameStart,this),cc.director.on("90163",this.onBatterEvent,this),cc.director.on("GAME-INFO",this.onGameResp,this),cc.director.on("balanceUpdate",this.balanceUpdate,this),cc.director.on("ROOM-INFO",this.onRoomUpdate,this)},e.prototype.onRoomUpdate=function(){this._timeRoom=Date.now(),this._dataUpdate.time&&this.cleanStake()},e.prototype.initHistory=function(){var t=this.history;cc.find("new",t).zIndex=100;for(var e=[],i=0;i<9;++i){var o=cc.find("d"+(i+1),t),n=cc.find("icon",o).getComponent(cc.Sprite);e.push({view:o,icon:n,team:-1}),o.active=!0,o.on("touchend",function(){_.showView("embed/rank")})}this._viewHistory=e},e.prototype.initBonus=function(){cc.find("top/view/title",this.bonus).getComponent(cc.Label).string=_.obtainLocale("room_fangj_fsjj"),this.initPrizePool()},e.prototype.initCelebrate=function(){var t=this;cc.resources.load("embed/excited",cc.Prefab,function(e,i){if(console.info("celebrate:",e),!e){var o=t.node,n=cc.instantiate(i);n.active=!1,t._viewExcited={view:n,active:!1},cc.find("b",o).addChild(n)}}),cc.resources.load("embed/celebrate",cc.Prefab,function(e,i){if(console.info("celebrate:",e),!e){var o=t.node,n=cc.instantiate(i),r=cc.find("view",n).getComponent(sp.Skeleton);n.active=!1,n.position=cc.v3(0,0,0);var c={view:n,skeleton:r,active:!1};r.setCompleteListener(function(){c.active=!1,n.active=!1}),o.addChild(n),t._viewCelebrate=c}})},e.prototype.showCelebrateAnim=function(){var t=this._viewCelebrate;t&&!t.active&&(t.active=!0,t.view.active=!0,t.skeleton.setAnimation(0,"sahua",!1))},e.prototype.setExcitedEnable=function(t){var e=this._viewExcited;e&&e.active!=t&&(e.active=t,e.view.active=t)},e.prototype.initPrizePool=function(){var t=cc.find("reward/view/move",this.bonus),e=this.candidate;e.y=0;for(var i=[],o=0;o<11;++o){var n=cc.instantiate(e),r=cc.find("view",n),c=cc.find("avatar/icon",r),a=cc.find("nick",r).getComponent(cc.Label);n.x=306*(o+1),t.addChild(n),i[o]={view:n,icon:c,nick:a}}var s=cc.find("lucky",this.bonus),h=cc.find("view",s),u=cc.find("info",h),l={view:s,icon:cc.find("avatar/icon",u),nick:cc.find("nick",u).getComponent(cc.Label),diams:cc.find("diams/num",h).getComponent(cc.Label),content:h};s.active=!1,this._viewLucky={track:t,fortune:l,candidate:i}},e.prototype.showLuckyAnim=function(t){for(var e=this,i=t.fans_show_circle,o=i.length,n=o<8?Math.floor(3*Math.random())+8:i.length,r=this._viewLucky,c=r.track,a=r.candidate,s=0;s<n;++s){var h=i[s%o],u=a[s];u.nick.string=_.checkNick(h.nick,8),_.initPictureWithURL(u.icon,h.avatar)}var l=a[n],f=t.fans_reward_info;l.nick.string=_.checkNick(f.nick,8),_.initPictureWithURL(l.icon,f.avatar),c.x=0;var d=n+1,p=.24*d;cc.tween(c).to(p,{x:-306*d},{easing:"cubicInOut"}).delay(.75).call(function(){e.showLuckyFinal(f)}).start()},e.prototype.showLuckyFinal=function(t){var e=t.drop_pool_diamond;e&&(this._bonus=e,this.viewNumber.updateBonus(e));var i=this._viewLucky.fortune,o=i.view,n=i.icon,r=i.nick,c=i.diams,a=i.content;a.y=214,o.active=!0,r.string=_.checkNick(t.nick,8),c.string=""+t.reward_diamond,_.initPictureWithURL(n,t.avatar),cc.tween(a).to(.28,{y:0}).start(),this.showCelebrateAnim()},e.prototype.update=function(){var t=this._expire;if(t){var e=Math.max(t-Date.now(),0);e||(this._expire=0),this.showTime(e)}var i=this._balance;if(i){var o=this._timeStake;(!o||Math.abs(Date.now()-o)>2400)&&(this._balance=0,this.showDiamonds(i))}var n=this._dataChips.time;n&&this.checkStake(n),this._state==v.State.PLAY&&this.checkTurn(),this.checkRoom()},e.prototype.checkRoom=function(){var t=this._dataUpdate.time;!t||Math.abs(Date.now()-t)<180||this.cleanStake()},e.prototype.cleanStake=function(){var t=this;this._dataUpdate.time=0;var e=this._dataUpdate.data;e.forEach(function(e){switch(e.kind){case 1:t.fetchStake(e.idx,e.choose);break;case 2:t.fetchIterate()}}),e.length=0},e.prototype.checkTurn=function(){var t=Date.now(),e=this._turn;if(!(Math.abs(t-e.time)<2e3)){e.time=t;var i=e.idx,o=this._viewTable,n=o[i];n&&(n.win.active=!1);var r=(i+1)%8;e.idx=r,o[r].win.active=!0}},e.prototype.initLoading=function(){var t=cc.find("loading",this.node);t.zIndex=100;var e=cc.find("icon",t);cc.tween(e).by(4,{angle:-1080}).repeatForever().start(),t.active=!1;var i={view:t,visible:!1};this._viewLoading=i},e.prototype.initChips=function(){for(var t=this,e=[10,100,1e3,1e4],i=this.chips,o=[],n={idx:0,time:0,former:0,view:i,viewList:o},r=function(r){var c=cc.find("d"+(r+1),i),a=cc.find("b",c),s=e[r],h={b:a,view:c,idx:r,chips:s,scale:r?.85:1};c.on("touchend",function(){var e=t._choose;n.time||h===e||(a.opacity=0,a.active=!0,n.idx=r,n.time=Date.now(),n.former=e.idx,e.b.active=!1,t._chips=s,t._choose=h)}),o[r]=h},c=0;c<4;++c)r(c);var a=o[0];this._chips=a.chips,this._choose=a;var s=0;for(c=0;c<4;++c){var h=o[c].view,u=c?75:88;h.x=s+u/2,h.y=c?-7:0,s+=u+12}this._dataChips=n},e.prototype.initTable=function(){for(var t=this,e=this.content,i=[],o=function(o){var r=cc.find("d"+(o+1),e),c=cc.find("choose",r),a=cc.find("diam",r),s=cc.find("d1",a).getComponent(cc.Label),h=cc.find("d2",a).getComponent(cc.Label),u=cc.find("crown",r),l=u.getComponent(cc.Sprite),f=p._TEAM[o],d=n.toAnimPosition(cc.find("icon",r));s.string="0",h.string="0",i[o]={view:r,icon:u,diams:[s,h],win:c,drop:d,team:f,crown:l,value:[0,0]},r.on("touchend",function(){t.onTableClick(o)})},n=this,r=0;r<8;++r)o(r);this._turn.time=Date.now(),this._viewTable=i},e.prototype.onTableClick=function(t){console.info("table:",t);var e=this._timeStake;if(!(e&&Math.abs(Date.now()-e)<120)){var i=this._choose;if(i)if(Math.abs(Date.now()-this._timeRoom)<4e3)this.fetchStake(t,i);else{var o=this._dataUpdate;o.time||(o.time=Date.now()),o.data.push({kind:1,idx:t,choose:i}),_.initRoomInfo()}else console.error("no choose stake!")}},e.prototype.fetchIterate=function(){for(var t=this,e={},i=this._track,o=0;o<8;++o){var n=i[o];n&&(e[v.toTeamKey(o)]=n)}var r=this._round,c={round:r,bet_map:e};_.fillStake(c),this._timeStake=Date.now(),_.http.post("/v1/football/rebet",c).then(function(e){if(r==t._round){var i=e.error_code;return i?23190004==i?void _.Native.showRechargeView():void _.showError(e):void 0}},function(){console.error("ERROR: /v1/football/rebet"),window.showToast(_.obtainLocale("networkError"))})},e.prototype.onIterateClick=function(){var t=this._timeStake;if(!(Math.abs(Date.now()-t)<120)){var e=this._track;if(e[0]+e[1]+e[2]>this._diams)_.Native.showRechargeView();else if(Math.abs(Date.now()-this._timeRoom)<4e3)this.fetchIterate();else{var i=this._dataUpdate;i.time||(i.time=Date.now()),i.data.push({kind:2}),_.initRoomInfo()}}},e.prototype.checkStake=function(t){var e=this._dataChips,i=e.idx,o=e.former,n=e.viewList,r=Date.now()-t,c=r<0?1:Math.min(r/145,1),a=0;n.forEach(function(t){if(i==t.idx){var e=75+13*c;(n=t.view).x=a+e/2,n.y=7*c-7,n.scale=e/100,t.b.opacity=255*c,a+=e+12}else if(o==t.idx){var n;e=88-13*c,(n=t.view).x=a+e/2,n.y=-7*c,n.scale=e/100,a+=e+12}else e=75,t.view.x=a+e/2,a+=e+12}),c>=1&&(e.time=0)},e.prototype.onStakeAchieve=function(t,e){var i=this,o=e.idx,n=e.chips;this.showDiamonds(Math.max(this._diams-n,0));var r=this._viewTable[t];if(r){var c=this.toAnimPosition(e.view),a=r.drop;console.info("x:",a);var s=this.chipWithKind(o);s.opacity=255,s.parent=this.tray,s.setPosition(c);var h=this.distance(c,a)/1850+.1;cc.tween(s).to(h,{x:a.x,y:a.y}).call(function(){var t=r.value;t[0]+=n,r.diams[0].string=v.unitValue(t[0])}).to(.25,{opacity:0}).call(function(){i.saveChip(s)}).start()}},e.prototype.toAnimPosition=function(t){var e=t.convertToWorldSpaceAR(cc.v2(0,0));return this.tray.convertToNodeSpaceAR(e)},e.prototype.updateLoading=function(t){var e=this._viewLoading;t!=e.visible&&(e.visible=t,e.view.active=t)},e.prototype.fetchGame=function(){var t=this,e=this._check,i=Date.now();e&&Math.abs(i-e)<2e3||(this._check=i,_.http.get("/v1/football/home").then(function(e){if(console.info("home:",e),t._check=0,e&&!e.error_code&&e.data)return t._count=0,void t.onGameResp(e.data);t.checkGame()}).catch(function(){t.checkGame()}))},e.prototype.checkGame=function(){var t=this,e=this._count+1;e>3||(this._count=e,this.scheduleOnce(function(){t.fetchGame()},1))},e.prototype.fetchProperty=function(){var t=this;_.http.get("/v1/football/diamonds").then(function(e){if(!e.error_code){var i=e.data;i&&t.showDiamonds(i.diamonds)}})},e.prototype.fetchRewards=function(){var t=this,e=this._round;_.http.get("/v1/football/end_page_record",{round:e}).then(function(i){if(console.info("income:",i),!i.error_code&&e==t._round){var o=i.data;o&&o.one_self_info&&t.setIncome(o.one_self_info)}})},e.prototype.setIncome=function(t){var e=this._dataLucky;if(e&&!e.income){var i=t.one_self_bet_diamond,o=t.one_self_reward_diamond;e.income=[i,o]}},e.prototype.fetchHistory=function(){var t=this;_.http.get("/v1/football/reward/record").then(function(e){if(e.error_code)t.checkHistory();else{var i=e.data;i?t.updateHistory(i):t.checkHistory()}},function(){t.checkHistory()})},e.prototype.checkHistory=function(){var t=this;this.scheduleOnce(function(){t.fetchHistory()},2)},e.prototype.fetchStake=function(t,e){var i=this,o=this._round,n=v.toTeamKey(t),r={round:o,batter:n,bet_value:e.chips};_.fillStake(r);var c=Date.now();this._timeStake=c,_.http.post("/v1/football/bet",r).then(function(t){if(o==i._round){var e=t.error_code;return e?23190004==e?void _.Native.jumpRechargePage():void _.showError(t):void 0}},function(){console.error("ERROR: /v1/football/bet")})},e.prototype.showDiamonds=function(t){var e=t||0;e!=this._diams&&(this._diams=e,this.diams.string=e>=1e6?Math.floor(e/1e5)/10+"M":e>=1e3?Math.floor(e/100)/10+"K":""+e)},e.prototype.onGameResp=function(t){var e=t.uid;e&&(this._uid=e),t.expire=Date.now()+1e3*(t.reward_time-t.tm),t.terminate=Date.now()+1e3*(t.end_time-t.tm);var i=t.drop_pool_diamonds;i&&this.viewNumber.updateBonus(i),t.round!=this._round?(this.cleanGame(),this.initGame(t)):t.expire>Date.now()?this.initGame(t):t.total_bet_info&&this.updateTable(t)},e.prototype.initGame=function(t){if(this._dataGame=t,this._dirty=1,this._round=t.round,console.info("GAME:",t),t.expire){var e=Date.now(),i=t.expire-e;if(i>0)this._expire=t.expire,this.showTime(i),this.setState(v.State.PLAY);else{var o=t.terminate;o&&o>e?(this._expire=o,this.showTime(o-e),this.setState(v.State.SETTLE)):this.setState(v.State.IDLE)}}var n=t.diamonds;(n||0===n)&&this.showDiamonds(n);var r=t.record;r&&(console.info("history:",r),this.updateHistory(r)),t.total_bet_info&&this.updateTable(t)},e.prototype.updateHistory=function(t){for(var e=this._viewHistory,i=this.textures.teamFrames,o=0;o<9;++o){var n=t[o],r=e[o];if(n){var c=n.batter,a=c.includes(",")?8:p._MATCH[c];if(a==r.team)continue;if(8==r.team&&(r.detonate.active=!1),r.team=a,a<8)r.view.active=!0,r.icon.spriteFrame=i[a];else if(r.view.active=!1,r.detonate)r.detonate.active=!0;else{var s=cc.instantiate(this.detonate);s.parent=r.view.parent,s.position=r.view.position,r.detonate=s,s.on("touchend",function(){_.showView("embed/rank")})}}else r.view.active=!1}},e.prototype.updateTable=function(t){for(var e={},i=t.user_bet_info||e,o=t.total_bet_info||e,n=this._viewTable,r=0;r<8;++r){var c=n[r],a=c.diams,s=c.value,h=v.toTeamKey(r),u=o[h]||0,l=i[h]||0,f=l?Math.max(u-l,0):u;s[0]=l,s[1]=f,a[0].string=v.unitValue(l),a[1].string=v.unitValue(f)}},e.prototype.cleanGame=function(){this._dirty=0,this._timeStake=0;var t=this._balance;t&&(this._balance=0,this.showDiamonds(t)),this.cleanTable(),this.setExcitedEnable(!1);var e=this._viewLucky,i=e.fortune;e.track.x=0,i.view.active=!1},e.prototype.cleanTable=function(){console.info("cleanTable!"),this._viewTable.forEach(function(t){var e=t.value;if(t.win.active=!1,t.icon.active=!1,e[0]||e[1]){e[0]=0,e[1]=0;var i=t.diams;return i[0].string="0",void(i[1].string="0")}}),this._viewTable[0].win.active=!0;var t=this._turn;t.idx=0,t.time=Date.now()},e.prototype.showTime=function(t){var e=Math.floor((t+450)/1e3);e!=this._countdown&&(this._countdown=e,this.countdown.string=e+"s")},e.prototype.setState=function(t){if(t!=this._state)switch(this._state=t,t){case v.State.PLAY:this._dataLucky=null,this.checkTrack();break;case v.State.LOTTERY:break;case v.State.SETTLE:this._settle=1,this.updateTrack();var e=this._dataGame;e&&e.terminate&&(this._expire=e.terminate)}},e.prototype.checkTrack=function(){for(var t=this._track,e=0;e<8;++e)if(t[e])return void(this.iterate.interactable=!0);this.iterate.interactable=!1},e.prototype.updateTrack=function(){for(var t=this._track,e=this._viewTable,i=0;i<8;++i)t[i]=e[i].value[0]},e.prototype.distance=function(t,e){var i=t.x-e.x,o=t.y-e.y;return 0==i?Math.abs(o):0==o?Math.abs(i):Math.sqrt(i*i+o*o)},e.prototype.obtainChip=function(){var t=this._chipPool;return t.size()?t.get():cc.instantiate(this.chip)},e.prototype.chipWithKind=function(t){void 0===t&&(t=0);var e=this.obtainChip();return e.getComponent(cc.Sprite).spriteFrame=this.textures.chipFrames[t],e},e.prototype.saveChip=function(t){var e=this._chipPool;e.size()>20?t.destroy():e.put(t)},e.prototype.onGameStart=function(t){if(console.info("start:",t),this.updateLoading(!1),t.is_open&&t.reward_time){var e=t.tm;t.expire=Date.now()+1e3*(t.reward_time-e),t.terminate=Date.now()+1e3*(t.end_time-e)}this._dirty&&this.cleanGame();var i=t.drop_pool_diamonds;(i||0==i)&&(this._bonus=i,this._settle||this.viewNumber.updateBonus(i)),this.initGame(t)},e.prototype.onLuckyEvent=function(t){this.setState(v.State.LOTTERY),console.info("Lucky:",t);var e=t.batter_bets_info;if(e){var i=[];e.forEach(function(t){var e=p._MATCH[t.batter];(e||0===e)&&i.push(e)});var o=i.length;if(!o)return;t.idx=0,t.team=i,t.count=o,o>1&&this.setExcitedEnable(!0),this.showLottery(t)}},e.prototype.showLottery=function(t){var e=this;console.info("showLottery");var i=t.round;this._dataLucky=t,this.fetchRewards();var o=this._funcLottery;o&&(this._funcLottery=null,this.unschedule(o));var n=t.fans_reward_info;n&&n.uid&&(t.isLucky=!0),this.showLotteryAnim(t);var r=t.isLucky?13:7.5;this.scheduleOnce(function(){i==e._round&&e.showSettle(t)},r),t.isLucky&&this.scheduleOnce(function(){e.showLuckyAnim(t)},7)},e.prototype.showLotteryAnim=function(t){var e=this,i=t.team,o=t.count,n=this._turn.idx,r=v.teamToTable(i[0]),c=o>1?16:24,a=n<r?c+(r-n):c+8+(r-n),s=n,h=o>1?3500:5e3,u=Date.now(),l=this._viewTable,f=function(){var i=Math.abs(Date.now()-u),r=i<h?v.toQuadraticAction(i/h):1,c=(Math.floor(r*a)+n)%8;c!=s&&(l[c].win.active=!0,l[s].win.active=!1,s=c),1===r&&(e._funcLottery=null,e.unschedule(f),o>1&&e.showRewardsAnim(c,t))};this.schedule(f,0),this._funcLottery=f},e.prototype.showRewardsAnim=function(t,e){for(var i,o=this,n=e.team,r=e.count,c=1,a=((i={})[t]=2,i),s=1;s<r;++s){var h=v.teamToTable(n[s]);a[h]=1}var u=t,l=0,f=Date.now()+750,d=this._viewTable,p=function(){var t=Date.now();if(!(t<f)){if(2!=a[u]&&(d[u].win.active=!1),l+=1,d[u=(u+1)%8].win.active=!0,1==a[u]&&l>4&&(l=0,c+=1,a[u]=2,o.showCrown(c-1,d[u])),c>=r)return o._funcLottery=null,void o.unschedule(p);f=t+180}};this.showCrown(0,d[t]),this.schedule(p,0),this._funcLottery=p},e.prototype.showCrown=function(t,e){t<0||t>2||(e.icon.active=!0,e.crown.spriteFrame=this.textures.crownFrames[t])},e.prototype.showSettle=function(t){this.setState(v.State.SETTLE),t.income||this.initIncome(t),this.fetchProperty(),this.cleanGame(),this.fetchHistory(),this.settle.showView(t)},e.prototype.initIncome=function(t){var e=0,i=[0,0,0,0,0,0,0,0];if(this._viewTable.forEach(function(t){var o=t.value[0];o&&(e+=o,i[t.team]=o)}),e){var o=0;t.team.forEach(function(t){var e=i[t];e&&(o+=p._TIMES[t]*e)}),t.income=[e,o]}},e.prototype.onBatterEvent=function(t){var e=t.batter;if(e){var i=v.toTable(e);if(void 0!==i){var o=t.bet_value,n=t.uid.toString();if(n&&n==this._uid)this.showBatterAnim(i,o);else{var r=this._viewTable[i];if(r){var c=r.value;c[1]+=o,r.diams[1].string=v.unitValue(c[1])}}}}},e.prototype.showBatterAnim=function(t,e){for(var i=[1e4,1e3,100,10],o=this._dataChips.viewList,n=0;n<4;++n){var r=i[n];if(e>r){var c=o[3-n],a=Math.floor(e/r);if(1==a)this.onStakeAchieve(t,c);else for(var s=0;s<a;++s)this.onStakeAchieve(t,c);e%=r}else if(e==r){this.onStakeAchieve(t,o[3-n]);break}}},e.prototype.balanceUpdate=function(t){this._balance=t,console.info("balance:",t)},r([h(cc.Node)],e.prototype,"chip",void 0),r([h(cc.Node)],e.prototype,"history",void 0),r([h(cc.Label)],e.prototype,"time",void 0),r([h(cc.Label)],e.prototype,"countdown",void 0),r([h(cc.Label)],e.prototype,"diams",void 0),r([h(cc.Node)],e.prototype,"content",void 0),r([h(cc.Node)],e.prototype,"tray",void 0),r([h(cc.Node)],e.prototype,"bonus",void 0),r([h(cc.Node)],e.prototype,"chips",void 0),r([h(cc.Node)],e.prototype,"detonate",void 0),r([h(cc.Node)],e.prototype,"candidate",void 0),r([h(l.default)],e.prototype,"settle",void 0),r([h(f.default)],e.prototype,"viewNumber",void 0),r([h(cc.Node)],e.prototype,"extend",void 0),r([h(cc.Button)],e.prototype,"iterate",void 0),r([h(d.default)],e.prototype,"textures",void 0),r([s],e)}(cc.Component);i.default=y,cc._RF.pop()},{"../core/Link":"Link","../core/tools":"tools","./Game":"Game","./Numbers":"Numbers","./Settle":"Settle","./Textures":"Textures"}],Env:[function(t,e,i){"use strict";cc._RF.push(e,"4344agq9z5IqprDsEBcoSwC","Env");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),i.Env=void 0;var n=o(t("./ohla")),r=n.default.obtainCookie("language_type"),c=r&&r.toLocaleLowerCase()||"en",a="en"==c,s="ar"==c,h=!!navigator.userAgent.match(/iPhone|iPad|iPod/i),u=!!navigator.userAgent.match(/Android/i),l=n.default.obtainCookie("yinyu_token","MDQ5NDU5NTIwMTcxY2RkMWM4YTZhMjMzYjMzNWNjMDBkOThhNzEyOCwxNzAzMDU4NTA5MzA310200062");i.Env={env:"prd",isAR:s,isEN:a,token:l,isIOS:h,isAndroid:u,isOnline:!0,VERSION:"1.0.8",volume:.72,language:c,DEBUG:!1},i.default=i.Env,cc._RF.pop()},{"./ohla":"ohla"}],Game:[function(t,e,i){"use strict";cc._RF.push(e,"2e1c6SAdJBM65zc1Fw7+RXL","Game"),Object.defineProperty(i,"__esModule",{value:!0}),i.toQuadraticAction=i.toTable=i.teamToTable=i.toTeamKey=i.toTeam=i.unitValue=i.visionValue=i.State=i._TABLE=i._VISION=i._MATCH=i._TIMES=i._TEAM=i._STAKE=void 0,i._STAKE={10:0,100:1,1e3:2,1e4:3},i._TEAM=[6,7,5,3,1,0,2,4],i._TIMES=[4,4,6,6,12,12,42,42],i._MATCH={},i._VISION=["team_A","team_B","team_C","team_D","team_E","team_F","team_G","team_H"],i._TABLE=[0,0,0,0,0,0,0],function(t){t[t.IDLE=0]="IDLE",t[t.PLAY=1]="PLAY",t[t.LOTTERY=2]="LOTTERY",t[t.SETTLE=3]="SETTLE"}(i.State||(i.State={})),i.visionValue=function(t){return t<=1e3?""+t:t.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")},i.unitValue=function(t){return void 0===t?0:t>=1e6?Math.floor(t/1e5)/10+"M":t>=1e3?Math.floor(t/100)/10+"K":""+t},i._TEAM.forEach(function(t,e){i._TABLE[t]=e}),i._VISION.forEach(function(t,e){i._MATCH[t]=e}),i.toTeam=function(t){return i._MATCH[t]},i.toTeamKey=function(t){var e=i._TEAM[t];if(e||0===e)return i._VISION[e]},i.teamToTable=function(t){return i._TABLE[t]},i.toTable=function(t){var e=i._MATCH[t];if(e||0===e)return i._TABLE[e]},i.toQuadraticAction=function(t){return(t*=2)<1?t*t*.5:-.5*(--t*(t-2)-1)},cc._RF.pop()},{}],History:[function(t,e,i){"use strict";cc._RF.push(e,"88e9cXMDw9B6JSssHKNy7u9","History");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=t("../core/tools"),a=cc._decorator,s=a.ccclass,h=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.item=null,e.click=null,e.version=null,e.itemAR=null,e.listview=null,e.content=null,e.extend=null,e.viewHeads=[],e._count=0,e}return n(e,t),e.prototype.onLoad=function(){this.extend.active=!1,this.title.string=c.obtainLocale("game_sc_history"),c.Env.isEN||this.initLan(),this.fetchHistory(),this.version&&this.initVersion()},e.prototype.initVersion=function(){var t=this;this.version.active=!1;var e=0,i=0,o=0;this.click.on("touchend",function(){var n=Date.now();Math.abs(n-o)<800?i>1?(i=0,0==e?(e=1,t.version.active=!0,t.version.getComponent(cc.Label).string=c.Env.VERSION):1==e?(e=2,t.version.active=!1):(e=1,t.version.active=!0)):i+=1:i=1,o=n})},e.prototype.initLan=function(){var t=this.viewHeads;if(t[0].string=c.obtainLocale("game_sc_time"),t[1].string=c.obtainLocale("game_sc_information"),t[2].string=c.obtainLocale("game_sc_Lottery"),c.Env.isAR){var e=t[0].node,i=t[1].node,o=t[2].node;e.x=-e.x,i.x=-i.x,o.x=-o.x,this.click||(e.anchorX=1,o.anchorX=0)}},e.prototype.fetchHistory=function(){var t=this;c.http.get("/v1/football/bet/record").then(function(e){if(t.isValid)if(e.error_code)c.showError(e);else{var i=e.data;i?(t._count=0,t.showHistory(i)):window.showToast(c.obtainLocale("networkError"))}else console.info("history is not valid!")},function(){t.checkRank()})},e.prototype.checkRank=function(){var t=this,e=this._count+1;e>3?window.showToast(c.obtainLocale("networkError")):(this._count=e,this.scheduleOnce(function(){t.fetchHistory()},1))},e.prototype.showHistory=function(t){var e=this,i=c.Env.isAR?this.itemAR:this.item,o=this.content;t.forEach(function(t){var n=cc.instantiate(i);n.parent=o,e.initNote(n,t)})},e.prototype.initNote=function(t,e){var i,o,n=e.show_round||e.round;cc.find("time",t).getComponent(cc.Label).string=(i=e.tm,(o=new Date(1e3*i)).getFullYear()+"/"+(o.getMonth()+1)+"/"+o.getDate()),cc.find("round",t).getComponent(cc.Label).string=c.obtainLocale("game_sc_lc")+": "+n;var r=0,a=e.bet_info;a&&a.forEach(function(t){r+=t.diamond}),cc.find("stake",t).getComponent(cc.Label).string=""+r,cc.find("income",t).getComponent(cc.Label).string=""+e.reward_diamond},e.prototype.onRemoveClick=function(){this.node.destroy()},r([h(cc.Label)],e.prototype,"title",void 0),r([h(cc.Node)],e.prototype,"item",void 0),r([h(cc.Node)],e.prototype,"click",void 0),r([h(cc.Node)],e.prototype,"version",void 0),r([h(cc.Node)],e.prototype,"itemAR",void 0),r([h(cc.Node)],e.prototype,"listview",void 0),r([h(cc.Node)],e.prototype,"content",void 0),r([h(cc.Node)],e.prototype,"extend",void 0),r([h([cc.Label])],e.prototype,"viewHeads",void 0),r([s],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../core/tools":"tools"}],InfiniteList:[function(t,e,i){"use strict";cc._RF.push(e,"27970BNwg5HEK7MDLbg4m4K","InfiniteList");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c},c=this&&this.__spreadArrays||function(){for(var t=0,e=0,i=arguments.length;e<i;e++)t+=arguments[e].length;var o=Array(t),n=0;for(e=0;e<i;e++)for(var r=arguments[e],c=0,a=r.length;c<a;c++,n++)o[n]=r[c];return o};Object.defineProperty(i,"__esModule",{value:!0}),i.InfiniteList=i.Direction=i.InfiniteCell=void 0;var a,s=cc._decorator,h=s.ccclass,u=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resIdentifier="NormalCell",e.dataIndex=-1,e}return n(e,t),e}(cc.Component);i.InfiniteCell=l,function(t){t[t.vertical=1]="vertical",t[t.horizontal=2]="horizontal"}(a=i.Direction||(i.Direction={}));var f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.direction=a.vertical,e.spacing=0,e.headPadding=0,e.bottomPadding=0,e.sidePadding=new cc.Vec2(0,0),e._debug=!1,e._scrollPosition=0,e._cellPools={},e._activeCellViews=new Array,e}return n(e,t),e.prototype.Init=function(t){this.init(t)},e.prototype.reload=function(t){void 0===t&&(t=!1),this.clear(t),this.load()},e.prototype.refresh=function(){this.refreshScrollPosition(),this.refreshActiveCells()},e.prototype.GetScrollPosOfCell=function(t){var e=this.getCellPosOfIndex(t);return this.direction==a.vertical?new cc.Vec2(0,e):new cc.Vec2(-1*e,0)},e.prototype.ScrollToCell=function(t,e,i){void 0===e&&(e=1),void 0===i&&(i=!0);var o=this.GetScrollPosOfCell(t);this._scrollView.scrollTo(o,e,i)},e.prototype.IsCellVisible=function(t){return t>=this._activeCellIndexRange.x&&t<=this._activeCellIndexRange.y},e.prototype.setViewSize=function(t,e){"number"!=typeof t&&"number"!=typeof e||("number"==typeof t&&(this.node.width=t),"number"==typeof e&&(this.node.height=e),this._scrollView=this.addListComponent(this._content))},e.prototype.getActiveCellIndex=function(){return this._activeCellIndexRange},e.prototype.onLoad=function(){var t=this.node.getAnchorPoint();0!=t.x&&(this.node.x-=t.x*this.node.width),1!=t.y&&(this.node.y+=(1-t.y)*this.node.height),this.node.setAnchorPoint(0,1)},e.prototype.update=function(){if(this._debug){var t=this._content.getComponent(cc.Graphics);t.clear(),t.fillColor=cc.Color.YELLOW,t.fillRect(0,0,this._content.width,this._content.height)}},e.prototype.onEnable=function(){this.node.on("scrolling",this.onScrolling,this)},e.prototype.onDisable=function(){this.node.targetOff(this)},e.prototype.addListComponent=function(t){this.node.removeComponent(cc.ScrollView);var e=this.node.addComponent(cc.ScrollView);return this.direction==a.horizontal?(e.vertical=!1,e.horizontal=!0):(e.vertical=!0,e.horizontal=!1),e.content=t,e},e.prototype.checkScrollEvent=function(){this._delegate.scrollEvent&&(this.direction==a.vertical?this._scrollPosition<=-1?this._delegate.scrollEvent.call(this._delegate.target,cc.ScrollView.EventType.SCROLL_TO_TOP):this._scrollPosition+this._scrollView.node.height>=this._content.height+1&&this._delegate.scrollEvent.call(this._delegate.target,cc.ScrollView.EventType.SCROLL_TO_BOTTOM):this.direction==a.horizontal&&(this._scrollPosition<=-1?this._delegate.scrollEvent.call(this._delegate.target,cc.ScrollView.EventType.SCROLL_TO_LEFT):this._scrollPosition+this._scrollView.node.width>=this._content.width+1&&this._delegate.scrollEvent.call(this._delegate.target,cc.ScrollView.EventType.SCROLL_TO_RIGHT)))},e.prototype.refreshScrollPosition=function(){var t=this._scrollView.getScrollOffset();this.direction==a.vertical?this._scrollPosition=t.y:this._scrollPosition=-1*t.x},e.prototype.onScrolling=function(){this._delegate&&this._cellsOffset&&(this.refreshScrollPosition(),this.refreshActiveCells(),this.checkScrollEvent())},e.prototype.init=function(t){this._delegate=t,this._content=new cc.Node,this._content.setAnchorPoint(0,1),this.node.addChild(this._content),this._scrollView=this.addListComponent(this._content),this._content.setContentSize(this.node.getContentSize()),this._debug&&this._content.addComponent(cc.Graphics)},e.prototype.clear=function(t){if(void 0===t&&(t=!1),this._scrollView.stopAutoScroll(),this._activeCellViews)for(;this._activeCellViews.length>0;)this.recycleCell(this._activeCellViews.length-1);this._activeCellIndexRange=new cc.Vec2(-1,-1),t||(this._scrollPosition=0,this._content.x=0,this._content.y=0)},e.prototype.load=function(){var t=this._delegate.getCellNumber.call(this._delegate.target);if(!(t<=0)){var e=this.headPadding;this._cellsOffset=new Array(t),this._cellsSize=new Array(t);for(var i=0;i<t;i++){var o=this._delegate.getCellSize.call(this._delegate.target,i);this._cellsSize[i]=o,e=o+(0==i?0:this.spacing)+e,this._cellsOffset[i]=e}e+=this.bottomPadding,this.direction==a.vertical?this._content.setContentSize(this.node.width,Math.max(e,this.node.height)):this._content.setContentSize(Math.max(e,this.node.width),this.node.height);var n=this.getActiveCellIndexRange();for(this._activeCellIndexRange=n,i=n.x;i<=n.y;i++)this.addCellView(i)}},e.prototype.refreshActiveCells=function(){var t=this.getActiveCellIndexRange();if(!t.equals(this._activeCellIndexRange)){for(var e=0;e<this._activeCellViews.length;){var i=this._activeCellViews[e];i.dataIndex<t.x||i.dataIndex>t.y?this.recycleCell(e):e++}for(var o=t.x;o<=t.y;o++){for(var n=!0,r=0;r<this._activeCellViews.length;r++)if(this._activeCellViews[r].dataIndex==o){n=!1;break}n&&this.addCellView(o)}this._activeCellIndexRange=t}},e.prototype.recycleCell=function(t){this.log("\u56de\u6536item",t);var e=this._activeCellViews[t];this._activeCellViews.splice(t,1),e.node.removeFromParent(!1),e.dataIndex=-1,this._cellPools[e.resIdentifier]||(this._cellPools[e.resIdentifier]=new cc.NodePool);var i=this._cellPools[e.resIdentifier];e.clear(),i.put(e.node)},e.prototype.getCellViewFromPool=function(t){if(!this._cellPools[t])return null;var e=this._cellPools[t].get();return e?e.getComponent(l):null},e.prototype.getActiveCellIndexRange=function(){var t=this._scrollPosition,e=t+(this.direction==a.vertical?this.node.height:this.node.width);return new cc.Vec2(this.getCellIndexOfPos(t),this.getCellIndexOfPos(e))},e.prototype.getCellIndexOfPos=function(t){for(var e=0;e<this._cellsOffset.length;e++)if(this._cellsOffset[e]>=t)return e;return this._cellsOffset.length-1},e.prototype.getCellPosOfIndex=function(t){return this._cellsOffset[t]-this._cellsSize[t]},e.prototype.addCellView=function(t){var e=this._delegate.getCellData.call(this._delegate.target,t);if(null!=e&&null!=e){this.log("\u6dfb\u52a0item",t);var i="NormalCell";this._delegate.getResIdentifer&&((i=this._delegate.getResIdentifer.call(this._delegate.target,t))&&""!=i||cc.error("getResIdentifer\u51fd\u6570\u4e0d\u80fd\u8fd4\u56denull, undefin,\u7a7a\u5b57\u7b26\u4e32!!"));var o=this.getCellViewFromPool(i);o||((o=this._delegate.getCellView.call(this._delegate.target,t)).node.setAnchorPoint(0,1),o.resIdentifier=i),o.dataIndex=t,o.enabled=!0,this._activeCellViews.push(o),this._content.addChild(o.node),this.direction==a.vertical?(o.node.x=this.sidePadding.x,o.node.y=-1*(this._cellsOffset[o.dataIndex]-this._cellsSize[o.dataIndex]),o.node.setContentSize(this.node.width-this.sidePadding.x-this.sidePadding.y,this._cellsSize[t])):(o.node.x=this._cellsOffset[o.dataIndex]-this._cellsSize[o.dataIndex],o.node.y=-1*this.sidePadding.x,o.node.setContentSize(this._cellsSize[t],this.node.height-this.sidePadding.x-this.sidePadding.y)),o.dataIndex=t,o.UpdateContent(e)}},e.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._debug&&cc.log.apply(cc,c(["InfiniteList"],t))},e.prototype.onDestroy=function(){},r([u({type:cc.Enum(a),tooltip:"List \u6eda\u52a8\u7684\u65b9\u5411\uff0c\u53ef\u4ee5\u9009\u62e9\u5782\u76f4\u6216\u8005\u6c34\u5e73"})],e.prototype,"direction",void 0),r([u({tooltip:"cell \u4e4b\u95f4\u7684\u50cf\u7d20\u95f4\u9694\uff0c\u6700\u5f00\u59cb\u548c\u6700\u540e\u9762\u4e0d\u4f1a\u6dfb\u52a0"})],e.prototype,"spacing",void 0),r([u({tooltip:"List \u9876\u90e8\uff08\u6c34\u5e73\u6eda\u52a8\u5219\u662f\u6700\u5de6\u8fb9\uff09\u7684\u95f4\u9694\u7a7a\u95f4"})],e.prototype,"headPadding",void 0),r([u({tooltip:"List \u5e95\u90e8\uff08\u6c34\u5e73\u6eda\u52a8\u5219\u662f\u6700\u53f3\u8fb9\uff09\u7684\u95f4\u9694\u7a7a\u95f4"})],e.prototype,"bottomPadding",void 0),r([u({tooltip:"\u4fa7\u8fb9\u7684\u95f4\u8ddd\uff0c\u5782\u76f4\u6eda\u52a8\u5c31\u662f\u5de6\u53f3\u8fb9\u7684\u95f4\u8ddd\uff0c\u6c34\u5e73\u6eda\u52a8\u5c31\u662f\u4e0a\u4e0b\u8fb9\u7684\u95f4\u8ddd"})],e.prototype,"sidePadding",void 0),r([h],e)}(cc.Component);i.InfiniteList=f,cc._RF.pop()},{}],InfiniteRefreshList:[function(t,e,i){"use strict";cc._RF.push(e,"511b6Vp7H9O+p1jLPxmiJGF","InfiniteRefreshList");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0}),i.InfiniteRefreshList=i.InfiniteRefreshCell=void 0;var c=t("./InfiniteList"),a=cc._decorator,s=a.ccclass,h=a.property,u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e}(c.InfiniteCell);i.InfiniteRefreshCell=u;var l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.enableHead=!1,e.head=null,e.headLen=0,e.enableFoot=!1,e.foot=null,e.footLen=0,e._showWaite=!1,e}return n(e,t),e.prototype.Init=function(e){t.prototype.Init.call(this,e),this.enableHead=!!e.refreshHead,this.enableFoot=!!e.refreshFoot},e.prototype.onEnable=function(){t.prototype.onEnable.call(this),this.node.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.onTouchCancel,this)},e.prototype.onTouchEnd=function(){this.direction==c.Direction.vertical?this.enableHead&&this._scrollPosition<=-this.headLen?(this._scrollView.stopAutoScroll(),this._content.height+=this._headerNode.height,this.log("head\u6539\u53d8\u9ad8\u5ea6"),this.flushItemPt(-this._headerNode.height,this._headerNode.height),this._content.y=0,this._headerNode.y=.5*-this._headerNode.height,this.refresh(),this.getAsyncData(!0,this.hide,this)):this.enableFoot&&this._scrollPosition+this.node.height>=this._content.height+this.footLen?(this._scrollView.stopAutoScroll(),this._footerNode.y=-(this._content.height+.5*this._footerNode.height),this._content.height+=this._footerNode.height,this.log("foot\u6539\u53d8\u9ad8\u5ea6"),this._content.y=Math.max(this._content.height-this.node.height,0),this.refresh(),this.getAsyncData(!1,this.hide,this)):this.hideNode():this.direction==c.Direction.horizontal&&(this.enableHead&&this._scrollPosition<=-this.headLen?(this._scrollView.stopAutoScroll(),this._content.width+=this._headerNode.width,this.log("head\u6539\u53d8\u9ad8\u5ea6"),this.flushItemPt(this._headerNode.width,this._headerNode.width),this._content.x=0,this._headerNode.x=.5*this._headerNode.width,this.refresh(),this.getAsyncData(!0,this.hide,this)):this.enableFoot&&this._scrollPosition+this.node.width>=this._content.width+this.footLen?(this._scrollView.stopAutoScroll(),this._footerNode.x=this._content.width+.5*this._footerNode.width,this._content.width+=this._footerNode.width,this.log("foot\u6539\u53d8\u9ad8\u5ea6"),this._content.x=-Math.max(this._content.width-this.node.width,0),this.refresh(),this.getAsyncData(!1,this.hide,this)):this.hideNode())},e.prototype.onTouchCancel=function(){this.hideNode()},e.prototype.checkScrollEvent=function(){t.prototype.checkScrollEvent.call(this),this._scrollView.isScrolling()&&(this.direction==c.Direction.vertical?this.enableHead&&this._scrollPosition<=-5?this.showHeader():this.enableFoot&&this._scrollPosition+this.node.height>=this._content.height+5?this.showFooter():this.hideNode():this.direction==c.Direction.horizontal&&(this.enableHead&&this._scrollPosition<=-5?this.showHeader():this.enableFoot&&this._scrollPosition+this.node.width>=this._content.width+5?this.showFooter():this.hideNode()))},e.prototype.flushItemPt=function(t,e){for(var i=this._activeCellViews,o=0;o<i.length;++o)this.direction==c.Direction.vertical?i[o].node.y+=t:this.direction==c.Direction.horizontal&&(i[o].node.x+=t);for(o=0;o<this._cellsOffset.length;++o)this._cellsOffset[o]+=e},e.prototype.showHeader=function(){if(!this._showWaite){if(this._showWaite=!0,!this._headerNode){var t=this.head?cc.instantiate(this.head):new cc.Node;this.head||t.setContentSize(50,50),t.setAnchorPoint(.5,.5),this._content.addChild(t),this._headerNode=t}this.direction==c.Direction.vertical?(this._headerNode.x=.5*this._content.width,this._headerNode.y=.5*this._headerNode.height+this.headPadding):this.direction==c.Direction.horizontal&&(this._headerNode.x=-(.5*this._headerNode.width+this.headPadding),this._headerNode.y=.5*-this._content.height),this._headerNode.active=!0}},e.prototype.showFooter=function(){if(!this._showWaite){if(this._showWaite=!0,!this._footerNode){var t=this.foot?cc.instantiate(this.foot):new cc.Node;this.foot||t.setContentSize(50,50),t.setAnchorPoint(.5,.5),this._content.addChild(t),this._footerNode=t}this.direction==c.Direction.vertical?(this._footerNode.x=.5*this._content.width,this._footerNode.y=-(this._content.height+this.bottomPadding+.5*this._footerNode.height)):this.direction==c.Direction.horizontal&&(this._footerNode.x=this._content.width+this.bottomPadding+.5*this._footerNode.width,this._footerNode.y=.5*-this._content.height),this._footerNode.active=!0}},e.prototype.hideNode=function(){this._headerNode&&this._headerNode.active&&(this._headerNode.active=!1),this._footerNode&&this._footerNode.active&&(this._footerNode.active=!1),this._showWaite=!1},e.prototype.hide=function(t){if(this._scrollView.stopAutoScroll(),this.direction==c.Direction.vertical){if(t)this.log("head\u8fd8\u539f\u9ad8\u5ea6"),this.flushItemPt(this._headerNode.height,-this._headerNode.height),this._content.height-=this._headerNode.height,this._content.y=0,this.refresh();else if(this._scrollView.getScrollOffset().y+this.node.height>this._content.height-this._footerNode.height){this.log("foot\u8fd8\u539f\u9ad8\u5ea6",this._content.height);var e=this._content.height-this.node.height;this._content.y=Math.max(0,e),this.refresh()}}else this.direction==c.Direction.horizontal&&(t?(this.log("head\u8fd8\u539f\u9ad8\u5ea6"),this.flushItemPt(-this._headerNode.width,-this._headerNode.width),this._content.width-=this._headerNode.width,this._content.x=0,this.refresh()):this.direction==c.Direction.horizontal&&this._scrollView.getScrollOffset().x+this.node.width>this._content.width-this._footerNode.width&&(this.log("foot\u8fd8\u539f\u9ad8\u5ea6",this._content.width),e=this._content.width-this.node.width,this._content.x=Math.max(0,e),this.refresh()));this.hideNode()},e.prototype.getAsyncData=function(t,e,i){var o=this;this.setEnabled(!1),t?this._delegate.refreshHead.call(this._delegate.target).then(function(){e.call(i,t),o.setEnabled(!0)}):this._delegate.refreshFoot.call(this._delegate.target).then(function(){e.call(i,t),o.setEnabled(!0)})},e.prototype.setEnabled=function(t){this._scrollView.enabled=t,this.enabled=t},r([h({tooltip:"\u542f\u7528head"})],e.prototype,"enableHead",void 0),r([h({type:cc.Prefab,tooltip:"\u4e0b\u62c9\u5237\u65b0\u65f6\u663e\u793a",visible:function(){return this.enableHead}})],e.prototype,"head",void 0),r([h({type:cc.Integer,tooltip:"\u4e0b\u62c9\u591a\u5c11\u5f00\u59cb\u663e\u793ahead",visible:function(){return this.enableHead}})],e.prototype,"headLen",void 0),r([h({tooltip:"\u542f\u7528foot"})],e.prototype,"enableFoot",void 0),r([h({type:cc.Prefab,tooltip:"\u4e0a\u62c9\u52a0\u8f7d\u65f6\u663e\u793a",visible:function(){return this.enableFoot}})],e.prototype,"foot",void 0),r([h({type:cc.Integer,tooltip:"\u4e0a\u62c9\u591a\u5c11\u5f00\u59cb\u663e\u793afoot",visible:function(){return this.enableFoot}})],e.prototype,"footLen",void 0),r([s],e)}(c.InfiniteList);i.InfiniteRefreshList=l,cc._RF.pop()},{"./InfiniteList":"InfiniteList"}],Introduce:[function(t,e,i){"use strict";cc._RF.push(e,"8c70ci26ydHiIsVAizHm6o0","Introduce");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,h=t("../core/tools"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.content=null,e.template=null,e.AR=null,e.viewExtend=null,e}return n(e,t),e.prototype.onLoad=function(){this.viewExtend.active=!1,this.title.string=h.obtainLocale("room_fangj_fsjj");var t=this.content;if(h.Env.isAR)return this.AR.removeFromParent(!1),void t.addChild(this.AR);for(var e=this.template,i=0;i<2;++i){var o=cc.instantiate(e);o.getComponent(cc.Label).string=h.obtainLocale("game_zqjj_rule"+(i+1)),t.addChild(o)}},r([s(cc.Label)],e.prototype,"title",void 0),r([s(cc.Node)],e.prototype,"content",void 0),r([s(cc.Node)],e.prototype,"template",void 0),r([s(cc.Node)],e.prototype,"AR",void 0),r([s(cc.Node)],e.prototype,"viewExtend",void 0),r([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../core/tools":"tools"}],Lan:[function(t,e,i){"use strict";cc._RF.push(e,"d25ecym4ANJdrvjOh81DiIO","Lan");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),i.formatLocaleOnce=i.formatLocale=i.obtainLocale=void 0;var n=o(t("./en")),r=o(t("./ar")),c=o(t("./vi")),a=o(t("./tr")),s=o(t("./tw")),h=o(t("../Env")),u=function(){switch(h.default.language){case"en":return n.default;case"ar":return r.default;case"vi":return c.default;case"tr":return a.default;case"tw":return s.default}return n.default}();function l(t,e){var i=u[t];if(void 0===i){if(void 0===e){if(u!==n.default){var o=n.default[t];return void 0===o?"":o}return""}return e}return i}function f(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=l(t);if(!o)return"";if(!e.length)return o;var n=0;return o.replace(/\%\@/g,function(){return e[n++]||" "})}i.obtainLocale=l,i.formatLocale=f,i.formatLocaleOnce=function(t,e){var i=l(t);return i?void 0===e?i.includes("%@")?i.replace("%@",""):i:i.replace("%@",e):""},cc.sys.isBrowser&&(window.obtainLocale=l,window.formatLocale=f),cc._RF.pop()},{"../Env":"Env","./ar":"ar","./en":"en","./tr":"tr","./tw":"tw","./vi":"vi"}],Link:[function(t,e,i){"use strict";cc._RF.push(e,"b5b3fryhE9BU7860BJt8HE7","Link");var o=this&&this.__createBinding||(Object.create?function(t,e,i,o){void 0===o&&(o=i),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,o){void 0===o&&(o=i),t[o]=e[i]}),n=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),r=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)"default"!==i&&Object.prototype.hasOwnProperty.call(t,i)&&o(e,t,i);return n(e,t),e},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),i.LinkState=void 0;var a,s=r(t("./ws")),h=c(t("./fetch")),u="/v1/football/home";(function(t){t[t.IDLE=0]="IDLE",t[t.REQUEST=1]="REQUEST",t[t.CONNECTING=2]="CONNECTING",t[t.VERIFY=3]="VERIFY",t[t.LINKED=4]="LINKED",t[t.CLOSED=5]="CLOSED",t[t.ERROR=6]="ERROR",t[t.FROZEN=7]="FROZEN"})(a=i.LinkState||(i.LinkState={}));var l=null,f=0,d=function(){function t(){this._wx=null,this._idx=0,this._time=0,this._host="",this._retry=0,this._retryLimit=0,this._state=a.IDLE,this._data=null,this._dataHome=null,this._callback=null,this._discon=null,this._onLinked=null}return t.instance=function(){return l||(l=new t),l},t.prototype.updateState=function(t){if(t==a.CLOSED&&this._state!=a.LINKED)return this._state=t,this._time=Date.now(),void this.checkLimit();this._state=t,this._time=Date.now(),t!=a.ERROR||this.checkLimit()},t.prototype.isLinked=function(){return this._state==a.LINKED},t.prototype.setRetryTimes=function(t){t<0?this._retryLimit=0:(this._retryLimit=t,0==t&&(this._retry=0))},t.prototype.onError=function(t){this._callback=t},t.prototype.onLinked=function(t){this._onLinked=t},t.prototype.onDisconnect=function(t){this._discon=t},t.prototype.cleanCallback=function(){this._discon=void 0,this._callback=void 0,this._onLinked=void 0},t.prototype.start=function(){this._state!=a.IDLE||this.fetchServer()},t.prototype.checkLimit=function(){var t=this._retryLimit;if(t){var e=this._retry+1;if(e<t)return void(this._retry=e);this._state=a.FROZEN;var i=this._callback;i&&i()}},t.prototype.checkLink=function(){var t=this._state;if(t!=a.IDLE&&t!=a.FROZEN)if(t!=a.REQUEST)if(t!=a.ERROR&&t!=a.CLOSED){var e=this._wx;e&&e.checkSocket()}else this.fetchServer();else this.checkTimeout()},t.prototype.checkTimeout=function(){var t=Date.now();Math.abs(t-this._time)<7e3||this.fetchServer()},t.prototype.fetchServer=function(){var t=this;if(this._data)this.connectWs();else{var e=f++;this._idx=e,this.updateState(a.REQUEST);var i={time:Date.now(),game:"soccer"};h.default.get(u,i).then(function(i){console.info("apply:",i),e==t._idx&&(i&&!i.error_code&&i.data?t.onServerRespon(i.data):(t.onLinkError("701"),t.onApplyError(i&&i.error_message)))}).catch(function(i){t.onCatchError(u,i),console.info("APPLY ERROR:",i),e==t._idx&&t.onLinkError("702")})}},t.prototype.onCatchError=function(){},t.prototype.onApplyError=function(){},t.prototype.onServerRespon=function(t){var e=t.ws;if(!e)return this.onLinkError("703"),void this.onApplyError("websocket info unknown!");var i=e.servers;if(!i||!i.length)return this.onLinkError("704"),void this.onApplyError("websocket list is empty!");cc.director.emit("GAME-INFO",t);var o=i.length;this._data={idx:0,num:o,wsList:i},this._dataHome=t,this.connectWs()},t.prototype.connectWs=function(){var t=this._data;if(t){var e=this._dataHome&&this._dataHome.game_id,i=t.idx,o=t.wsList[i],n=this._wx;if(n)return o!=this._host&&(this._host=o,n.updateHost("wss://"+o)),n.setGameId(e),void n.reconnect();var r=new s.default("wss://"+o,this);this._wx=r,r.setGameId(e),r.connect()}else this.fetchServer()},t.prototype.onStateChange=function(t){switch(t){case s.WsState.CONNECTING:this.updateState(a.CONNECTING);break;case s.WsState.VERIFY:this.updateState(a.VERIFY);break;case s.WsState.LINKED:this._retry=0,this.updateState(a.LINKED),this.dispatchLinkedEvent();break;case s.WsState.CLOSED:this.checkWebsocket(),this.updateState(a.CLOSED),this.disconnectEvent()}},t.prototype.checkWebsocket=function(){if(this._state!=a.LINKED){var t=this._data;if(t.num>1){var e=t.idx+1;t.idx=e<t.num?e:0}}},t.prototype.onMessage=function(t,e){var i=""+t;cc.director.emit(i,e)},t.prototype.onLinkError=function(t){console.info("Link Error:",t),this.updateState(a.ERROR)},t.prototype.dispatchLinkedEvent=function(){cc.director.emit("WS-LINKED");var t=this._onLinked;t&&t()},t.prototype.disconnectEvent=function(){cc.director.emit("WS-DISCON");var t=this._discon;t&&t()},t}();i.default=d,cc._RF.pop()},{"./fetch":"fetch","./ws":"ws"}],Main:[function(t,e,i){"use strict";cc._RF.push(e,"302628vb/lEIJfIxsWVyiPc","Main");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=(c.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){var t=window.obtainSearch("embed");console.info("EMBED:",t),t?cc.director.loadScene("Embed"):(console.info("loadScene!"),cc.director.loadScene("Soccer",function(){console.info("on Soccer Launched!")}))},r([a],e)}(cc.Component));i.default=s,cc._RF.pop()},{}],Native:[function(t,e,i){"use strict";cc._RF.push(e,"921a72XKr5HSLdmr3VCq4U2","Native");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),i.fillStake=i.getRoomInfo=i.initRoomInfo=i.Native=void 0;var n=o(t("./Env")),r=t("../core/tools"),c=n.default.isAndroid;function a(t,e,i){console.info("call:",t);try{if(c)window.android&&window.android[t]&&window.android[t](JSON.stringify(e));else if(window.webkit){var o=window.webkit.messageHandlers;o&&o[t]&&o[t].postMessage(e)}}catch(n){i&&i()}}var s=function(){function t(){}return t.closeWebview=function(){if(n.default.isIOS)a("close_webview",{close_webview:{}});else{var t=window.obtainSearch("_version");r.VersionCompare("3.0.71",t)?a("close_webview_dialog",{close_webview_dialog:{}}):a("close_webview",{close_webview:{}})}},t.dispatchLaunch=function(){a("hideSplash",{hideSplash:{}})},t.jumpProfilePage=function(t){a("jump_profile",{jump_profile:{uid:t}})},t.playMP4=function(t,e){console.log("call native ",t),a("playEffect",{play_effect:{url:t}},e)},t.jumpVoiceRoomPage=function(t){a("jump_voice_room",{jump_voice_room:{room_id:t,enterFrom:"enter_form_h5_red_bule_pk_game"}})},t.jumpRechargePage=function(){a("jump_recharge_normal_page",{jump_recharge_normal_page:{}})},t.showRechargeView=function(){a("jump_recharge_normal_page",{jump_recharge_normal_page:{}})},t}();i.Native=s,window.onBalanceUpdate=function(t){cc.director.emit("balanceUpdate",t)};var h=null;i.initRoomInfo=function(){console.info("---\x3e send_room_id"),a("send_room_id",{send_room_id:{}})},i.getRoomInfo=function(){return h},i.fillStake=function(t){if(h)return Object.assign(t,h)},window.get_room_id=function(t){if(console.info("get_room_id:",t),t&&t.room_id)return h=t,void cc.director.emit("ROOM-INFO",t);try{var e=JSON.parse(t);e&&(h=e,cc.director.emit("ROOM-INFO",e))}catch(i){console.error(i)}},i.default=s,cc._RF.pop()},{"../core/tools":"tools","./Env":"Env"}],Numbers:[function(t,e,i){"use strict";cc._RF.push(e,"d4a3dqEc79EnLS2oqHSsVyt","Numbers");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.icon=null,e.numberFrames=[],e._bonus=0,e._viewNumbers=null,e}return n(e,t),e.prototype.onLoad=function(){var t=[],e=this.icon;e.x=0,e.active=!0;for(var i=0;i<7;++i){var o=cc.find("d"+(i+1),this.node);this.initList(e,o),t.push({view:o,value:0})}e.active=!1,this._viewNumbers=t},e.prototype.initList=function(t,e){for(var i=this.numberFrames,o=0;o<10;++o){var n=cc.instantiate(t);n.getComponent(cc.Sprite).spriteFrame=i[o],n.y=-72*o,e.addChild(n)}var r=cc.instantiate(t);r.getComponent(cc.Sprite).spriteFrame=i[0],r.y=-720,e.addChild(r)},e.prototype.updateBonus=function(t){var e=this._bonus;t!=e&&(this._bonus=t,t>e?this.showAnimUp(t):this.showAnimDown(t))},e.prototype.showAnimUp=function(t){for(var e=""+t,i=7-e.length,o=0,n=this._viewNumbers,r=0;r<7;++r)if((c=r<i?0:e[r-i])!=n[r].value){o=r;break}for(r=0;r<7;++r){var c=r<i?0:Number(e[r-i]),a=n[r];(r>=o||c!=a.value)&&this.showNumberUp(r,c,a)}},e.prototype.showNumberUp=function(t,e,i){var o=i.view,n=i.value;if(i.value=e,o.stopAllActions(),e>n){var r=72*e,c=(r-o.y)/700;cc.tween(o).delay(.15*(7-t)).to(c,{y:r}).start()}else{var a=72*e,s=(720-o.y)/700,h=a/700;cc.tween(o).delay(.15*(7-t)).to(s,{y:720}).call(function(){o.y=0}).to(h,{y:a}).start()}},e.prototype.showAnimDown=function(t){for(var e=""+t,i=7-e.length,o=0,n=this._viewNumbers,r=0;r<7;++r)if((c=r<i?0:e[r-i])!=n[r].value){o=r;break}for(r=0;r<7;++r){var c=r<i?0:Number(e[r-i]),a=n[r];(r>=o||c!=a.value)&&this.showNumberDown(r,c,a)}},e.prototype.showNumberDown=function(t,e,i){var o=i.view,n=i.value;if(i.value=e,o.stopAllActions(),e<n){var r=72*e,c=(o.y-r)/700;cc.tween(o).delay(.15*(7-t)).to(c,{y:r}).start()}else{var a=72*e,s=o.y/700,h=(720-a)/700;cc.tween(o).delay(.15*(7-t)).to(s,{y:0}).call(function(){o.y=720}).to(h,{y:a}).start()}},r([s(cc.Node)],e.prototype,"icon",void 0),r([s([cc.SpriteFrame])],e.prototype,"numberFrames",void 0),r([a],e)}(cc.Component);i.default=h,cc._RF.pop()},{}],Rank:[function(t,e,i){"use strict";cc._RF.push(e,"4f056xnojBPRLRsowqJDfaV","Rank");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=t("../core/tools"),a=cc._decorator,s=a.ccclass,h=a.property,u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.item=null,e.itemAR=null,e.listview=null,e.content=null,e.extend=null,e.itemFrame=null,e.viewHeads=[],e._count=0,e}return n(e,t),e.prototype.onLoad=function(){this.extend.active=!1,c.Env.isEN||(c.Env.isAR?this.initAR():this.initLan()),this.fetchRank()},e.prototype.initLan=function(){this.title.string=c.obtainLocale("game_sc_rank");var t=this.viewHeads;if(t[0].string=c.obtainLocale("game_sc_ranking"),t[1].string=c.obtainLocale("game_sc_profile"),t[2].string=c.obtainLocale("game_sc_name"),t[3].string=c.obtainLocale("game_sc_revenue"),"vi"==c.Env.language){var e=t[1].node,i=t[2].node;e.x=e.x+20,i.x=i.x+20}},e.prototype.initAR=function(){this.title.string=c.obtainLocale("game_sc_rank");var t=this.viewHeads,e=t[0],i=t[1],o=t[2],n=t[3];e.string=c.obtainLocale("game_sc_ranking"),i.string=c.obtainLocale("game_sc_profile"),o.string=c.obtainLocale("game_sc_name"),n.string=c.obtainLocale("game_sc_revenue");var r=e.node,a=i.node,s=o.node,h=n.node;r.x=-r.x,a.x=-a.x,s.x=-s.x,h.x=-h.x,r.anchorX=1,h.anchorX=0},e.prototype.fetchRank=function(){var t=this;c.http.get("/v1/football/rank").then(function(e){if(t.isValid)if(e.error_code)c.showError(e);else{var i=e.data;i?(t._count=0,t.showRank(i)):window.showToast(c.obtainLocale("networkError"))}else console.info("rank is not valid!")},function(){t.checkRank()})},e.prototype.checkRank=function(){var t=this,e=this._count+1;e>3?window.showToast(c.obtainLocale("networkError")):(this._count=e,this.scheduleOnce(function(){t.fetchRank()},1))},e.prototype.showRank=function(t){var e=this,i=c.Env.isAR?this.itemAR:this.item,o=this.content;t.forEach(function(t,n){var r=cc.instantiate(i);r.parent=o,cc.find("order",r).getComponent(cc.Label).string=""+(n+1),cc.find("nick",r).getComponent(cc.Label).string=c.checkNick(t.nick,8),cc.find("diams",r).getComponent(cc.Label).string=""+(t.total||0),n<3&&(cc.find("b",r).getComponent(cc.Sprite).spriteFrame=e.itemFrame);var a=t.avatar;a&&c.initPictureWithURL(cc.find("avatar/icon",r),a)})},e.prototype.onRemoveClick=function(){this.node.destroy()},r([h(cc.Label)],e.prototype,"title",void 0),r([h(cc.Node)],e.prototype,"item",void 0),r([h(cc.Node)],e.prototype,"itemAR",void 0),r([h(cc.Node)],e.prototype,"listview",void 0),r([h(cc.Node)],e.prototype,"content",void 0),r([h(cc.Node)],e.prototype,"extend",void 0),r([h(cc.SpriteFrame)],e.prototype,"itemFrame",void 0),r([h([cc.Label])],e.prototype,"viewHeads",void 0),r([s],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../core/tools":"tools"}],Rule:[function(t,e,i){"use strict";cc._RF.push(e,"46d8bNpoWVDs5ES+wf1abbI","Rule");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,h=t("../core/tools"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.title=null,e.content=null,e.template=null,e.AR=null,e.viewExtend=null,e}return n(e,t),e.prototype.onLoad=function(){this.viewExtend.active=!1,this.title.string=h.obtainLocale("rule");var t=this.content;if(h.Env.isAR)return this.AR.removeFromParent(!1),void t.addChild(this.AR);for(var e=this.template,i=0;i<3;++i){var o=cc.instantiate(e);o.getComponent(cc.Label).string=h.obtainLocale("game_gz_rule"+(i+1)),t.addChild(o)}},r([s(cc.Label)],e.prototype,"title",void 0),r([s(cc.Node)],e.prototype,"content",void 0),r([s(cc.Node)],e.prototype,"template",void 0),r([s(cc.Node)],e.prototype,"AR",void 0),r([s(cc.Node)],e.prototype,"viewExtend",void 0),r([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../core/tools":"tools"}],Settle:[function(t,e,i){"use strict";cc._RF.push(e,"48d1b7SMydK1pmoyt251x2u","Settle");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,h=a.property,u=t("../core/tools"),l=t("./Game"),f=c(t("./Textures")),d=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.rank=null,e.rewards=null,e.viewEmpty=null,e.textures=null,e.diams=[],e.viewRank=[],e.topic=[],e._data=null,e._win=0,e._time=0,e._mode=0,e._income=1,e._empty=!1,e._title=null,e._viewRank=null,e._hideFunc=null,e._countdown=null,e._dataAwards=null,e}return n(e,t),e.prototype.onLoad=function(){console.info("settle!"),this.node.x=0,this.diams[0].string="0",this.diams[1].string="0",this.initRank(),this.initAwards(),u.Env.isEN||this.initLan(),this._data||(this.node.active=!1)},e.prototype.initLan=function(){var t=this.topic;t[0].string=u.obtainLocale("round_be"),t[1].string=u.obtainLocale("earnings"),t[2].string=u.obtainLocale("winner"),t[3].string=u.obtainLocale("no_winner");var e=t[4];if(e&&(e.string=u.obtainLocale("confirm")),u.Env.isAR){var i=this.viewRank[0].x,o=this.viewRank[2].x;this.viewRank[0].x=o,this.viewRank[2].x=i}},e.prototype.initRank=function(){if(!this._viewRank){for(var t=[],e=0;e<3;++e){var i=this.viewRank[e],o=cc.find("avatar/icon",i),n=cc.find("nick",i).getComponent(cc.Label),r=cc.find("diams/num",i).getComponent(cc.Label);t[e]={view:i,icon:o,nick:n,num:r}}this._viewRank=t}},e.prototype.initAwards=function(){for(var t=this.rewards,e=[],i=0;i<3;++i){var o=cc.find("d"+(i+1),t),n=cc.find("icon",o).getComponent(cc.Sprite),r=cc.find("times",o).getComponent(cc.Label);e.push({view:o,icon:n,times:r,value:0,team:-1})}this._dataAwards=e},e.prototype.showView=function(t){var e=this;if(console.info("settle:",t),this._data=t,!this._viewRank)return this.node.active=!0,void this.scheduleOnce(function(){e.showView(t)});if(!this._time){var i=t.income;i?this.updateStake(i[0],i[1]):this.updateStake(0,0),this.node.active=!0;var o=t.team;o&&this.showAwards(o),this.showRank(t.top_infos),this.initTimeout()}},e.prototype.showLottery=function(){},e.prototype.showRank=function(t){if(t&&t.length){this._empty&&(this._empty=!1,this.rank.active=!0,this.viewEmpty.active=!1);for(var e=this._viewRank,i=0;i<3;++i){var o=t[i],n=e[i];o?(n.hide&&(n.hide=!1,n.view.active=!0),n.num.string=o.diamond||0,n.nick.string=u.checkNick(o.nick,8),u.initPictureWithURL(n.icon,o.avatar)):n.hide||(n.hide=!0,n.view.active=!1)}}else this.onRankEmpty()},e.prototype.showAwards=function(t){for(var e=this._dataAwards,i=this.textures.teamFrames,o=0;o<3;++o){var n=t[o],r=e[o];if(n||0===n){r.view.active=!0,n!=r.kind&&(r.kind=n,r.icon.spriteFrame=i[n]);var c=l._TIMES[n];c!=r.value&&(r.value=c,r.times.string="x"+c)}else r.view.active=!1}},e.prototype.onRankEmpty=function(){this._empty||(this._empty=!0,this.rank.active=!1,this.viewEmpty.active=!0)},e.prototype.updateStake=function(t,e){this.diams[0].string=""+t,this.diams[1].string=""+e},e.prototype.initTimeout=function(){var t=this;this._time=Date.now()+5e3;var e=function(){Date.now()<t._time||(t._time=0,t.node.active=!1,t.unschedule(e),t._hideFunc&&t._hideFunc())};this._countdown=e,this.schedule(e,1)},e.prototype.onHide=function(t){this._hideFunc=t},e.prototype.onConfirmClick=function(){var t=this._countdown;if(t)return this._time=0,this.node.active=!1,this.unschedule(t),void(this._hideFunc&&this._hideFunc());this._time=0,this.node.active=!1},r([h(cc.Node)],e.prototype,"rank",void 0),r([h(cc.Node)],e.prototype,"rewards",void 0),r([h(cc.Node)],e.prototype,"viewEmpty",void 0),r([h(f.default)],e.prototype,"textures",void 0),r([h([cc.Label])],e.prototype,"diams",void 0),r([h([cc.Node])],e.prototype,"viewRank",void 0),r([h([cc.Label])],e.prototype,"topic",void 0),r([s],e)}(cc.Component);i.default=d,cc._RF.pop()},{"../core/tools":"tools","./Game":"Game","./Textures":"Textures"}],Soccer:[function(t,e,i){"use strict";cc._RF.push(e,"b02d9SuDKtOSpI8SA23u3BJ","Soccer");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var a=cc._decorator,s=a.ccclass,h=a.property,u=c(t("../core/Link")),l=c(t("./Settle")),f=c(t("./Textures")),d=c(t("./Numbers")),p=t("./Game"),v=t("./Game"),_=t("../core/tools"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.back=null,e.chip=null,e.rank=null,e.history=null,e.time=null,e.title=null,e.countdown=null,e.diams=null,e.content=null,e.tray=null,e.bonus=null,e.chips=null,e.detonate=null,e.candidate=null,e.settle=null,e.viewNumber=null,e.extend=null,e.iterate=null,e.textures=null,e._uid="",e._dirty=0,e._balance=0,e._turn={idx:0,time:0},e._check=0,e._round=0,e._diams=-1,e._count=0,e._bonus=0,e._settle=0,e._chips=10,e._choose=null,e._state=v.State.IDLE,e._expire=0,e._countdown=0,e._timeStake=0,e._timeRoom=0,e._dataUpdate={time:0,data:[]},e._track=[0,0,0,0,0,0,0,0],e._chipPool=null,e._dataGame=null,e._dataLucky=null,e._dataChips=null,e._dataStake=null,e._viewLoading=null,e._viewExcited=null,e._viewCelebrate=null,e._viewRank=null,e._viewTable=null,e._viewHistory=null,e._viewLucky=null,e._funcLottery=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;console.info("Embed!"),this.title.string="",this.diams.string="",this.countdown.string="",this.extend.active=!1,this.time.string=_.obtainLocale("game_hl_djs");var e=window.obtainSearch("uid");console.info("uid:",e),e&&(this._uid=e),this._chipPool=new cc.NodePool,this.textures.updateButton(this.iterate.node),this.back.on("touchend",function(){_.Native.closeWebview()}),this.initLink(),this.initEvent(),this.initRank(),this.initChips(),this.initTable(),this.initBonus(),this.initHistory(),this.initLoading(),cc.game.on(cc.game.EVENT_SHOW,function(){t._count=0,t._timeStake=Date.now(),t.fetchGame()}),this.settle.onHide(function(){t._settle=0,t._state==v.State.PLAY&&t.viewNumber.updateBonus(t._bonus)}),this.scheduleOnce(function(){t.initCelebrate(),cc.resources.preload("views/history",cc.Prefab),cc.resources.preload("views/rank",cc.Prefab),cc.resources.preload("views/rule",cc.Prefab)},2)},e.prototype.initLink=function(){var t=this,e=u.default.instance();e.onDisconnect(function(){t.updateLoading(!0)});var i=0;e.onLinked(function(){console.info("Linked!"),i+=1,t.updateLoading(!1);var e=t._dataGame;e&&Date.now()>e.terminate?t.fetchGame():i>1&&t._state==v.State.PLAY&&t.fetchProperty()}),this.schedule(function(){e.checkLink()},1),e.start(),this.scheduleOnce(function(){e.isLinked()||t.updateLoading(!0)},2)},e.prototype.initEvent=function(){cc.director.on("90160",this.onLuckyEvent,this),cc.director.on("90161",this.onGameStart,this),cc.director.on("90162",this.onRankEvent,this),cc.director.on("90163",this.onBatterEvent,this),cc.director.on("GAME-INFO",this.onGameResp,this),cc.director.on("balanceUpdate",this.balanceUpdate,this),cc.director.on("ROOM-INFO",this.onRoomUpdate,this)},e.prototype.onRoomUpdate=function(){this._timeRoom=Date.now(),this._dataUpdate.time&&this.cleanStake()},e.prototype.initRank=function(){for(var t=[],e=this.rank,i=0;i<7;++i){var o=cc.find("d"+(i+1),e),n=cc.find("nick",o).getComponent(cc.Label),r=cc.find("avatar/icon",o);o.active=!1,t[i]={view:o,icon:r,nick:n,uid:""},o.on("touchend",function(){_.showView("views/rank")})}this._viewRank=t},e.prototype.initHistory=function(){var t=this.history;cc.find("new",t).zIndex=100,cc.find("title",t).getComponent(cc.Label).string=_.obtainLocale("game_jg_jg")+":";for(var e=[],i=0;i<9;++i){var o=cc.find("d"+(i+1),t),n=cc.find("icon",o).getComponent(cc.Sprite);e.push({view:o,icon:n,team:-1})}this._viewHistory=e},e.prototype.initBonus=function(){cc.find("top/view/title",this.bonus).getComponent(cc.Label).string=_.obtainLocale("room_fangj_fsjj"),this.initPrizePool()},e.prototype.initCelebrate=function(){var t=this;cc.resources.load("views/celebrate",cc.Prefab,function(e,i){if(console.info("celebrate:",e),!e){var o=t.node,n=cc.instantiate(i);n.active=!1,n.position=cc.v3(0,0,0),t._viewExcited={view:n,active:!1},cc.find("b",o).addChild(n);var r=cc.instantiate(i),c=cc.find("view",r),a=c.getComponent(sp.Skeleton);c.position=cc.v3(0,250,0),r.active=!1,r.position=cc.v3(0,0,0);var s={view:r,skeleton:a,active:!1};a.setCompleteListener(function(){s.active=!1,r.active=!1}),o.addChild(r),t._viewCelebrate=s}})},e.prototype.showCelebrateAnim=function(){var t=this._viewCelebrate;t&&!t.active&&(t.active=!0,t.view.active=!0,t.skeleton.setAnimation(0,"sahua",!1))},e.prototype.setExcitedEnable=function(t){var e=this._viewExcited;e&&e.active!=t&&(e.active=t,e.view.active=t)},e.prototype.initPrizePool=function(){var t=cc.find("reward/view/move",this.bonus),e=this.candidate;e.y=0;for(var i=[],o=0;o<11;++o){var n=cc.instantiate(e),r=cc.find("view",n),c=cc.find("avatar/icon",r),a=cc.find("nick",r).getComponent(cc.Label);n.x=306*(o+1),t.addChild(n),i[o]={view:n,icon:c,nick:a}}var s=cc.find("lucky",this.bonus),h=cc.find("view",s),u=cc.find("info",h),l={view:s,icon:cc.find("avatar/icon",u),nick:cc.find("nick",u).getComponent(cc.Label),diams:cc.find("diams/num",h).getComponent(cc.Label),content:h};s.active=!1,this._viewLucky={track:t,fortune:l,candidate:i}},e.prototype.updateRank=function(t){if(t)for(var e=this._viewRank,i=0;i<7;++i){var o=t[i],n=e[i];if(o){n.uid||(n.view.active=!0);var r=o.uid.toString();if(r==n.uid)continue;n.uid=r,n.nick.string=_.checkNick(o.nick,8),o.avatar&&_.initPictureWithURL(n.icon,o.avatar)}else n.uid&&(n.uid="",n.view.active=!1)}},e.prototype.showLuckyAnim=function(t){for(var e=this,i=t.fans_show_circle,o=i.length,n=o<8?Math.floor(3*Math.random())+8:i.length,r=this._viewLucky,c=r.track,a=r.candidate,s=0;s<n;++s){var h=i[s%o],u=a[s];u.nick.string=_.checkNick(h.nick,8),_.initPictureWithURL(u.icon,h.avatar)}var l=a[n],f=t.fans_reward_info;l.nick.string=_.checkNick(f.nick,8),_.initPictureWithURL(l.icon,f.avatar),c.x=0;var d=n+1,p=.24*d;cc.tween(c).to(p,{x:-306*d},{easing:"cubicInOut"}).delay(.75).call(function(){e.showLuckyFinal(f)}).start()},e.prototype.showLuckyFinal=function(t){var e=t.drop_pool_diamond;e&&(this._bonus=e,this.viewNumber.updateBonus(e));var i=this._viewLucky.fortune,o=i.view,n=i.icon,r=i.nick,c=i.diams,a=i.content;a.y=214,o.active=!0,r.string=_.checkNick(t.nick,8),c.string=""+t.reward_diamond,_.initPictureWithURL(n,t.avatar),cc.tween(a).to(.28,{y:0}).start(),this.showCelebrateAnim()},e.prototype.update=function(){var t=this._expire;if(t){var e=Math.max(t-Date.now(),0);e||(this._expire=0),this.showTime(e)}var i=this._balance;if(i){var o=this._timeStake;(!o||Math.abs(Date.now()-o)>2400)&&(this._balance=0,this.showDiamonds(i))}var n=this._dataChips.time;n&&this.checkStake(n),this._state==v.State.PLAY&&this.checkTurn(),this.checkRoom()},e.prototype.checkRoom=function(){var t=this._dataUpdate.time;!t||Math.abs(Date.now()-t)<180||this.cleanStake()},e.prototype.cleanStake=function(){var t=this;this._dataUpdate.time=0;var e=this._dataUpdate.data;e.forEach(function(e){switch(e.kind){case 1:t.fetchStake(e.idx,e.choose);break;case 2:t.fetchIterate()}}),e.length=0},e.prototype.checkTurn=function(){var t=Date.now(),e=this._turn;if(!(Math.abs(t-e.time)<2e3)){e.time=t;var i=e.idx,o=this._viewTable,n=o[i];n&&(n.win.active=!1);var r=(i+1)%8;e.idx=r,o[r].win.active=!0}},e.prototype.initLoading=function(){var t=cc.find("loading",this.node);t.zIndex=100;var e=cc.find("icon",t);cc.tween(e).by(4,{angle:-1080}).repeatForever().start(),t.active=!1;var i={view:t,visible:!1};this._viewLoading=i},e.prototype.initChips=function(){for(var t=this,e=[10,100,1e3,1e4],i=this.chips,o=[],n={idx:0,time:0,former:0,view:i,viewList:o},r=function(r){var c=cc.find("d"+(r+1),i),a=cc.find("b",c),s=e[r],h={b:a,view:c,idx:r,chips:s,scale:r?.84:1};c.on("touchend",function(){var e=t._choose;n.time||h===e||(a.opacity=0,a.active=!0,n.idx=r,n.time=Date.now(),n.former=e.idx,e.b.active=!1,t._chips=s,t._choose=h)}),o[r]=h},c=0;c<4;++c)r(c);var a=o[0];this._chips=a.chips,this._choose=a;var s=0;for(c=0;c<4;++c){var h=o[c].view,u=c?84:100;h.x=s+u/2,h.y=c?0:11,s+=u+12}this._dataChips=n},e.prototype.initTable=function(){for(var t=this,e=this.content,i=[],o=function(o){var r=cc.find("d"+(o+1),e),c=cc.find("choose",r),a=cc.find("diam",r),s=cc.find("d1",a).getComponent(cc.Label),h=cc.find("d2",a).getComponent(cc.Label),u=cc.find("crown",r),l=u.getComponent(cc.Sprite),f=p._TEAM[o],d=n.toAnimPosition(cc.find("icon",r));s.string="0",h.string="0",i[o]={view:r,icon:u,diams:[s,h],win:c,drop:d,team:f,crown:l,value:[0,0]},r.on("touchend",function(){t.onTableClick(o)})},n=this,r=0;r<8;++r)o(r);this._turn.time=Date.now(),this._viewTable=i},e.prototype.onTableClick=function(t){console.info("table:",t);var e=this._timeStake;if(!(e&&Math.abs(Date.now()-e)<80)){var i=this._choose;if(i)if(Math.abs(Date.now()-this._timeRoom)<4e3)this.fetchStake(t,i);else{var o=this._dataUpdate;o.time||(o.time=Date.now()),o.data.push({kind:1,idx:t,choose:i}),_.initRoomInfo()}else console.error("no choose stake!")}},e.prototype.onIterateClick=function(){var t=this._timeStake;if(!(Math.abs(Date.now()-t)<120)){var e=this._track;if(e[0]+e[1]+e[2]>this._diams)_.Native.showRechargeView();else if(Math.abs(Date.now()-this._timeRoom)<4e3)this.fetchIterate();else{var i=this._dataUpdate;i.time||(i.time=Date.now()),i.data.push({kind:2}),_.initRoomInfo()}}},e.prototype.fetchIterate=function(){for(var t=this,e={},i=this._track,o=0;o<8;++o){var n=i[o];n&&(e[v.toTeamKey(o)]=n)}var r=this._round,c={round:r,bet_map:e};_.fillStake(c),this._timeStake=Date.now(),_.http.post("/v1/football/rebet",c).then(function(e){if(r==t._round){var i=e.error_code;return i?23190004==i?void _.Native.showRechargeView():void _.showError(e):void 0}},function(){console.error("ERROR: /v1/football/rebet"),window.showToast(_.obtainLocale("networkError"))})},e.prototype.checkStake=function(t){var e=this._dataChips,i=e.idx,o=e.former,n=e.viewList,r=Date.now()-t,c=r<0?1:Math.min(r/90,1),a=0;n.forEach(function(t){if(i==t.idx){var e=84+16*c;(n=t.view).x=a+e/2,n.y=11*c,n.scale=e/100,t.b.opacity=255*c,a+=e+12}else if(o==t.idx){var n;e=100-16*c,(n=t.view).x=a+e/2,n.y=11*(1-c),n.scale=e/100,a+=e+12}else e=84,t.view.x=a+e/2,a+=e+12}),c>=1&&(e.time=0)},e.prototype.onStakeAchieve=function(t,e){var i=this,o=e.idx,n=e.chips;this.showDiamonds(Math.max(this._diams-n,0));var r=this._viewTable[t];if(r){var c=this.toAnimPosition(e.view),a=r.drop;console.info("x:",a);var s=this.chipWithKind(o);s.opacity=255,s.parent=this.tray,s.setPosition(c);var h=this.distance(c,a)/1850+.1;cc.tween(s).to(h,{x:a.x,y:a.y}).call(function(){var t=r.value;t[0]+=n,r.diams[0].string=v.unitValue(t[0])}).to(.25,{opacity:0}).call(function(){i.saveChip(s)}).start()}},e.prototype.toAnimPosition=function(t){var e=t.convertToWorldSpaceAR(cc.v2(0,0));return this.tray.convertToNodeSpaceAR(e)},e.prototype.updateLoading=function(t){var e=this._viewLoading;t!=e.visible&&(e.visible=t,e.view.active=t)},e.prototype.fetchGame=function(){var t=this,e=this._check,i=Date.now();e&&Math.abs(i-e)<2e3||(this._check=i,_.http.get("/v1/football/home").then(function(e){if(console.info("home:",e),t._check=0,e&&!e.error_code&&e.data)return t._count=0,void t.onGameResp(e.data);t.checkGame()}).catch(function(){t.checkGame()}))},e.prototype.checkGame=function(){var t=this,e=this._count+1;e>3||(this._count=e,this.scheduleOnce(function(){t.fetchGame()},1))},e.prototype.fetchProperty=function(){var t=this;_.http.get("/v1/football/diamonds").then(function(e){if(!e.error_code){var i=e.data;i&&t.showDiamonds(i.diamonds)}})},e.prototype.fetchRewards=function(){var t=this,e=this._round;_.http.get("/v1/football/end_page_record",{round:e}).then(function(i){if(console.info("income:",i),!i.error_code&&e==t._round){var o=i.data;o&&o.one_self_info&&t.setIncome(o.one_self_info)}})},e.prototype.setIncome=function(t){var e=this._dataLucky;if(e&&!e.income){var i=t.one_self_bet_diamond,o=t.one_self_reward_diamond;e.income=[i,o]}},e.prototype.fetchHistory=function(){var t=this;_.http.get("/v1/football/reward/record").then(function(e){if(e.error_code)t.checkHistory();else{var i=e.data;i?t.updateHistory(i):t.checkHistory()}},function(){t.checkHistory()})},e.prototype.checkHistory=function(){var t=this;this.scheduleOnce(function(){t.fetchHistory()},2)},e.prototype.fetchStake=function(t,e){var i=this,o=this._round,n=v.toTeamKey(t),r={round:o,batter:n,bet_value:e.chips};_.fillStake(r);var c=Date.now();this._timeStake=c,_.http.post("/v1/football/bet",r).then(function(t){if(o==i._round){var e=t.error_code;return e?23190004==e?void _.Native.jumpRechargePage():void _.showError(t):void 0}},function(){console.error("ERROR: /v1/football/bet")})},e.prototype.showDiamonds=function(t){var e=t||0;e!=this._diams&&(this._diams=e,this.diams.string=e>=1e6?Math.floor(e/1e5)/10+"M":e>=1e3?Math.floor(e/100)/10+"K":""+e)},e.prototype.onGameResp=function(t){var e=t.uid;if(e&&(this._uid=e),t.expire=Date.now()+1e3*(t.reward_time-t.tm),t.terminate=Date.now()+1e3*(t.end_time-t.tm),t.round==this._round&&t.expire>Date.now())this.initGame(t);else{var i=t.drop_pool_diamonds;i&&this.viewNumber.updateBonus(i),this.cleanGame(),this.initGame(t)}},e.prototype.initGame=function(t){this._dataGame=t,this._dirty=1,this._round=t.round,console.info("GAME:",t);var e=t.show_round||t.round;if(this.title.string=_.formatLocaleOnce("number_bureaub",""+e),t.expire){var i=Date.now(),o=t.expire-i;if(o>0)this._expire=t.expire,this.showTime(o),this.setState(v.State.PLAY);else{var n=t.terminate;n&&n>i?(this._expire=n,this.showTime(n-i),this.setState(v.State.SETTLE)):this.setState(v.State.IDLE)}}var r=t.diamonds;(r||0===r)&&this.showDiamonds(r);var c=t.rank;c&&(console.info("rank:",c),this.updateRank(c));var a=t.record;a&&(console.info("history:",a),this.updateHistory(a)),t.total_bet_info&&this.updateTable(t)},e.prototype.updateHistory=function(t){for(var e=this._viewHistory,i=this.textures.teamFrames,o=0;o<9;++o){var n=t[o],r=e[o];if(n){var c=n.batter,a=c.includes(",")?8:p._MATCH[c];if(a==r.team)continue;if(8==r.team&&(r.detonate.active=!1),r.team=a,a<8)r.view.active=!0,r.icon.spriteFrame=i[a];else if(r.view.active=!1,r.detonate)r.detonate.active=!0;else{var s=cc.instantiate(this.detonate);r.detonate=s,s.parent=r.view.parent,s.position=r.view.position}}else r.view.active=!1}},e.prototype.updateTable=function(t){for(var e={},i=t.user_bet_info||e,o=t.total_bet_info||e,n=this._viewTable,r=0;r<8;++r){var c=n[r],a=c.diams,s=c.value,h=v.toTeamKey(r),u=o[h]||0,l=i[h]||0,f=l?Math.max(u-l,0):u;s[0]=l,s[1]=f,a[0].string=v.unitValue(l),a[1].string=v.unitValue(f)}},e.prototype.cleanGame=function(){this._dirty=0,this._timeStake=0;var t=this._balance;t&&(this._balance=0,this.showDiamonds(t)),this.cleanTable(),this.setExcitedEnable(!1);var e=this._viewLucky,i=e.fortune;e.track.x=0,i.view.active=!1},e.prototype.cleanTable=function(){console.info("cleanTable!"),this._viewTable.forEach(function(t){var e=t.value;if(t.win.active=!1,t.icon.active=!1,e[0]||e[1]){e[0]=0,e[1]=0;var i=t.diams;return i[0].string="0",void(i[1].string="0")}}),this._viewTable[0].win.active=!0;var t=this._turn;t.idx=0,t.time=Date.now()},e.prototype.showTime=function(t){var e=Math.floor((t+450)/1e3);e!=this._countdown&&(this._countdown=e,this.countdown.string=e+"s")},e.prototype.setState=function(t){if(t!=this._state)switch(this._state=t,t){case v.State.PLAY:this._dataLucky=null,this.checkTrack();break;case v.State.LOTTERY:break;case v.State.SETTLE:this._settle=1,this.updateTrack();var e=this._dataGame;e&&e.terminate&&(this._expire=e.terminate)}},e.prototype.checkTrack=function(){for(var t=this._track,e=0;e<8;++e)if(t[e])return void(this.iterate.interactable=!0);this.iterate.interactable=!1},e.prototype.updateTrack=function(){for(var t=this._track,e=this._viewTable,i=0;i<8;++i)t[i]=e[i].value[0]},e.prototype.distance=function(t,e){var i=t.x-e.x,o=t.y-e.y;return 0==i?Math.abs(o):0==o?Math.abs(i):Math.sqrt(i*i+o*o)},e.prototype.obtainChip=function(){var t=this._chipPool;return t.size()?t.get():cc.instantiate(this.chip)},e.prototype.chipWithKind=function(t){void 0===t&&(t=0);var e=this.obtainChip();return e.getComponent(cc.Sprite).spriteFrame=this.textures.chipFrames[t],e},e.prototype.saveChip=function(t){var e=this._chipPool;e.size()>20?t.destroy():e.put(t)},e.prototype.onGameStart=function(t){if(console.info("start:",t),this.updateLoading(!1),t.is_open&&t.reward_time){var e=t.tm;t.expire=Date.now()+1e3*(t.reward_time-e),t.terminate=Date.now()+1e3*(t.end_time-e)}this._dirty&&this.cleanGame();var i=t.drop_pool_diamonds;(i||0==i)&&(this._bonus=i,this._settle||this.viewNumber.updateBonus(i)),this.initGame(t)},e.prototype.onRankEvent=function(t){this.updateRank(t.rank)},e.prototype.onLuckyEvent=function(t){this.setState(v.State.LOTTERY),console.info("Lucky:",t);var e=t.batter_bets_info;if(e){var i=[];e.forEach(function(t){var e=p._MATCH[t.batter];(e||0===e)&&i.push(e)});var o=i.length;if(!o)return;t.idx=0,t.team=i,t.count=o,o>1&&this.setExcitedEnable(!0),this.showLottery(t)}},e.prototype.showLottery=function(t){var e=this;console.info("Lottery!");var i=t.round;this._dataLucky=t,this.fetchRewards();var o=this._funcLottery;o&&(this._funcLottery=null,this.unschedule(o));var n=t.fans_reward_info;n&&n.uid&&(t.isLucky=!0),this.showLotteryAnim(t);var r=t.isLucky?12.5:7.5;this.scheduleOnce(function(){i==e._round&&e.showSettle(t)},r),t.isLucky&&this.scheduleOnce(function(){e.showLuckyAnim(t)},7.5)},e.prototype.showLotteryAnim=function(t){var e=this,i=t.team,o=t.count,n=this._turn.idx,r=v.teamToTable(i[0]),c=o>1?16:24,a=n<r?c+(r-n):c+8+(r-n),s=n,h=o>1?3500:5e3,u=Date.now(),l=this._viewTable,f=function(){var i=Math.abs(Date.now()-u),r=i<h?v.toQuadraticAction(i/h):1,c=(Math.floor(r*a)+n)%8;c!=s&&(l[c].win.active=!0,l[s].win.active=!1,s=c),1===r&&(e._funcLottery=null,e.unschedule(f),o>1&&e.showRewardsAnim(c,t))};this.schedule(f,0),this._funcLottery=f},e.prototype.showRewardsAnim=function(t,e){for(var i,o=this,n=e.team,r=e.count,c=1,a=((i={})[t]=2,i),s=1;s<r;++s){var h=v.teamToTable(n[s]);a[h]=1}var u=t,l=0,f=Date.now()+750,d=this._viewTable,p=function(){var t=Date.now();if(!(t<f)){if(2!=a[u]&&(d[u].win.active=!1),l+=1,d[u=(u+1)%8].win.active=!0,1==a[u]&&l>4&&(l=0,c+=1,a[u]=2,o.showCrown(c-1,d[u])),c>=r)return o._funcLottery=null,void o.unschedule(p);f=t+180}};this.showCrown(0,d[t]),this.schedule(p,0),this._funcLottery=p},e.prototype.showCrown=function(t,e){t<0||t>2||(e.icon.active=!0,e.crown.spriteFrame=this.textures.crownFrames[t])},e.prototype.showSettle=function(t){this.setState(v.State.SETTLE),t.income||this.initIncome(t),this.fetchProperty(),this.cleanGame(),this.fetchHistory(),this.settle.showView(t)},e.prototype.initIncome=function(t){var e=0,i=[0,0,0,0,0,0,0,0];if(this._viewTable.forEach(function(t){var o=t.value[0];o&&(e+=o,i[t.team]=o)}),e){var o=0;t.team.forEach(function(t){var e=i[t];e&&(o+=p._TIMES[t]*e)}),t.income=[e,o]}},e.prototype.onBatterEvent=function(t){var e=t.batter;if(e){var i=v.toTable(e);if(void 0!==i){var o=t.bet_value,n=t.uid.toString();if(n&&n==this._uid)this.showBatterAnim(i,o);else{var r=this._viewTable[i];if(r){var c=r.value;c[1]+=o,r.diams[1].string=v.unitValue(c[1])}}}}},e.prototype.showBatterAnim=function(t,e){for(var i=[1e4,1e3,100,10],o=this._dataChips.viewList,n=0;n<4;++n){var r=i[n];if(e>r){var c=o[3-n],a=Math.floor(e/r);if(1==a)this.onStakeAchieve(t,c);else for(var s=0;s<a;++s)this.onStakeAchieve(t,c);e%=r}else if(e==r){this.onStakeAchieve(t,o[3-n]);break}}},e.prototype.balanceUpdate=function(t){this._balance=t,console.info("balance:",t)},r([h(cc.Node)],e.prototype,"back",void 0),r([h(cc.Node)],e.prototype,"chip",void 0),r([h(cc.Node)],e.prototype,"rank",void 0),r([h(cc.Node)],e.prototype,"history",void 0),r([h(cc.Label)],e.prototype,"time",void 0),r([h(cc.Label)],e.prototype,"title",void 0),r([h(cc.Label)],e.prototype,"countdown",void 0),r([h(cc.Label)],e.prototype,"diams",void 0),r([h(cc.Node)],e.prototype,"content",void 0),r([h(cc.Node)],e.prototype,"tray",void 0),r([h(cc.Node)],e.prototype,"bonus",void 0),r([h(cc.Node)],e.prototype,"chips",void 0),r([h(cc.Node)],e.prototype,"detonate",void 0),r([h(cc.Node)],e.prototype,"candidate",void 0),r([h(l.default)],e.prototype,"settle",void 0),r([h(d.default)],e.prototype,"viewNumber",void 0),r([h(cc.Node)],e.prototype,"extend",void 0),r([h(cc.Button)],e.prototype,"iterate",void 0),r([h(f.default)],e.prototype,"textures",void 0),r([s],e)}(cc.Component);i.default=y,cc._RF.pop()},{"../core/Link":"Link","../core/tools":"tools","./Game":"Game","./Numbers":"Numbers","./Settle":"Settle","./Textures":"Textures"}],Textures:[function(t,e,i){"use strict";cc._RF.push(e,"29a7eyXDpVMvq1WSoonBSBy","Textures");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,h=t("../core/tools"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.btnFrames=[],e.crownFrames=[],e.chipFrames=[],e.teamFrames=[],e}return n(e,t),e.prototype.onLoad=function(){},e.prototype.updateButton=function(t){var e=cc.find("icon",t);if(e){var i=e.getComponent(cc.Sprite);switch(h.Env.language){case"en":i.spriteFrame=this.btnFrames[0];break;case"ar":i.spriteFrame=this.btnFrames[1];break;case"tr":i.spriteFrame=this.btnFrames[2];break;case"vi":i.spriteFrame=this.btnFrames[3];break;default:i.spriteFrame=this.btnFrames[0]}}},r([s([cc.SpriteFrame])],e.prototype,"btnFrames",void 0),r([s([cc.SpriteFrame])],e.prototype,"crownFrames",void 0),r([s([cc.SpriteFrame])],e.prototype,"chipFrames",void 0),r([s([cc.SpriteFrame])],e.prototype,"teamFrames",void 0),r([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../core/tools":"tools"}],UIKit:[function(t,e,i){"use strict";cc._RF.push(e,"0162au/vDxAoq5l4YQtKp2d","UIKit"),Object.defineProperty(i,"__esModule",{value:!0}),i.VersionCompare=i.isSamePlayer=i.showError=i.initPictureWithURL=i.checkNick=i.showView=void 0;var o=t("./tools");i.showView=function(t,e){t&&cc.resources.load(t,cc.Prefab,function(i,o){if(console.info("showView:",t,i),!i){var n=cc.director.getScene();if(n){var r=cc.instantiate(o);r.zIndex=1,r.position=cc.v3(0,0,0),r.parent=n,e&&e(r)}}})};var n=/[\u0600-\u06FF]/;function r(t,e){return n.test(t)?Math.floor(1.5*e):e}i.checkNick=function(t,e,i){if(void 0===e&&(e=8),void 0===i&&(i=".."),!t)return"";var n=o.Env.isAR?r(t,e):e,c=i,a=t.length;if(a<=.5*n)return t;for(var s=0,h=0;h<a;++h)if(t.codePointAt(h)>255?s+=2:s+=1,s>=n)return t.substring(0,h)+c;return t},i.initPictureWithURL=function(t,e,i){t.active=!1,e&&cc.assetManager.loadRemote(e,function(e,o){e?console.error(e):t.isValid&&(t.active=!0,t.getComponent(cc.Sprite).spriteFrame=new cc.SpriteFrame(o),i&&i(o))})};var c={};i.showError=function(t){var e=t.msg_code;if(e){var i=t.error_code||e,n=Date.now(),r=c[i];if(!(r&&Math.abs(n-r)<2800)){c[i]=n;var a=o.obtainLocale(e);if(a)window.showToast(a);else{var s=t.error_message||o.obtainLocale("networkError");s&&window.showToast(s)}}}else{var h=t.error_message||o.obtainLocale("networkError");h&&window.showToast(h)}},i.isSamePlayer=function(t,e){var i=t.uid,o=e.uid;return i.eq?i.eq(o):i==o},i.VersionCompare=function(t,e){if((t=t||"0.0.0")==(e=e||"0.0.0"))return!0;for(var i=t.split("."),o=e.split("."),n=Math.max(i.length,o.length),r=0;r<n;r++){var c=~~o[r],a=~~i[r];if(c<a)return!1;if(c>a)return!0}return!1},cc._RF.pop()},{"./tools":"tools"}],ar:[function(t,e,i){"use strict";var o;cc._RF.push(e,"e8321OLNTxGQ7QwTO2bC6U1","ar"),Object.defineProperty(i,"__esModule",{value:!0});var n=((o={draw:"\u062a\u0639\u0627\u062f\u0644",confirm:"\u064a\u0624\u0643\u062f",success:"\u0646\u062c\u0627\u062d",networkError:"\u062e\u0637\u0623 \u0641\u064a \u0627\u0644\u0634\u0628\u0643\u0629",rule:"\u0627\u0644\u0642\u0648\u0627\u0639\u062f",winner:"\u0627\u0644\u0641\u0627\u0626\u0632 \u0627\u0644\u0643\u0628\u064a\u0631 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u062c\u0648\u0644\u0629",game_sc_lg:"\u0627\u0644\u0646\u062a\u0627\u0626\u062c \u0644\u062c\u0648\u0644\u0629 %@",round_be:"\u0647\u0630\u0647 \u0627\u0644\u062c\u0648\u0644\u0629",earnings:"\u0623\u0631\u0628\u0627\u062d \u0647\u0630\u0647 \u0627\u0644\u062c\u0648\u0644\u0629",no_winner:"\u0644\u0627 \u064a\u0648\u062c\u062f \u0641\u0627\u0626\u0632 \u0641\u064a \u0647\u0630\u0647 \u0627\u0644\u062c\u0648\u0644\u0629~",game_sc_lc:"\u062c\u0648\u0644\u0629",game_hl_djs:"\u0627\u0644\u0639\u062f \u0627\u0644\u062a\u0646\u0627\u0632\u0644\u064a",game_sc_history:"\u062a\u0627\u0631\u064a\u062e\u064a",game_sc_time:"\u0648\u0642\u062a \u0627\u0644\u0644\u0639\u0628",game_sc_information:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u0644\u0639\u0628",game_sc_Lottery:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0627\u0644\u064a\u0627\u0646\u0635\u064a\u0628",game_sc_rank:"\u062a\u0631\u062a\u064a\u0628 \u0627\u0644\u0625\u064a\u0631\u0627\u062f\u0627\u062a \u0627\u0644\u064a\u0648\u0645",game_sc_ranking:"\u062a\u0631\u062a\u064a\u0628",game_sc_profile:"\u0627\u0644\u0645\u0644\u0641 \u0627\u0644\u0634\u062e\u0635\u064a",game_sc_name:"\u0627\u0633\u0645",game_sc_revenue:"\u0625\u064a\u0631\u0627\u062f",moment_new:"\u062c\u062f\u064a\u062f",number_bureaub:"\u062f\u0627\u0626\u0631\u064a %@ ",pk_record_history:"\u062a\u0627\u0631\u064a\u062e",gift_bag_countdown:"\u0627\u0644\u0639\u062f \u0627\u0644\u062a\u0646\u0627\u0632\u0644\u064a",Ludo_record_Players:"\u0639\u062f\u062f \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646",game_jg_jg:"\u0627\u0644\u0646\u062a\u064a\u062c\u0629",room_fangj_fsjj:"\u0645\u0643\u0627\u0641\u0622\u062a \u0627\u0644\u0645\u0639\u062c\u0628\u064a\u0646",game_gz_rule1:"",game_gz_rule2:"",game_gz_rule3:"",game_zqjj_rule1:"",game_zqjj_rule2:""})[26390002]="\u0627\u0644\u062f\u0639\u0645 \u064a\u0635\u0644 \u0625\u0644\u0649 \u0627\u0644\u062d\u062f \u0627\u0644\u0623\u0639\u0644\u0649",o[26390003]="\u0627\u0646\u062a\u0647\u062a \u062c\u0644\u0633\u0629 \u0627\u0644\u062f\u0639\u0645",o[21250008]="\u0631\u0635\u064a\u062f \u0627\u0644\u0639\u0645\u0644\u0627\u062a \u0627\u0644\u0630\u0647\u0628\u064a\u0629 \u0644\u0627 \u064a\u0643\u0641\u064a",o[10000010]="\u0648\u0635\u0648\u0644 \u063a\u064a\u0631 \u0637\u0628\u064a\u0639\u064a\u060c \u064a\u0631\u062c\u0649 \u0625\u0639\u0627\u062f\u0629 \u0627\u0644\u0645\u062d\u0627\u0648\u0644\u0629 \u0628\u0639\u062f \u0642\u0644\u064a\u0644",o[10000012]="\u062e\u0637\u0623 \u0628\u0627\u0644\u0645\u0639\u0644\u0645\u0627\u062a",o[26390006]="\u0627\u0644\u0644\u0639\u0628\u0629 \u0644\u0645 \u062a\u0628\u062f\u0623",o[26390007]="\u064a\u0645\u0643\u0646\u0643 \u0641\u0642\u0637 \u0627\u062e\u062a\u064a\u0627\u0631 \u0643\u0628\u064a\u0631\u0629 \u0623\u0648 \u0635\u063a\u064a\u0631\u0629",o);i.default=n,cc._RF.pop()},{}],cache:[function(t,e,i){"use strict";cc._RF.push(e,"43910VO4RtIKa1wF6U+/2FW","cache"),Object.defineProperty(i,"__esModule",{value:!0}),i.obtainCache=i.saveCache=void 0;var o={};i.saveCache=function(t,e){o[t]=e},i.obtainCache=function(t,e){var i=o[t];return void 0===i?e:i},cc._RF.pop()},{}],comm:[function(t,e,i){"use strict";cc._RF.push(e,"9599c+kP6JLeb8Gtq5coC6V","comm");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,h=0,u=[],l=cc.Node.EventType.SIZE_CHANGED,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.toast=null,e._toasts=null,e}return n(e,t),e.prototype.onLoad=function(){var t=this;this._toasts=new cc.NodePool,window.showToast=function(e){return t.showToast(e)}},e.prototype.showToast=function(t){u.length||h?u.push(t):this.showNoticeView(t)},e.prototype.showNoticeView=function(t){var e=this,i=this.obtainToastView();i.y=40,i.opacity=0,i.parent=this.node,h=Date.now(),cc.find("tex",i).getComponent(cc.Label).string=t;var o=0;this.scheduleOnce(function(){u.length>0&&(o=1,e.checkToast())},.32);var n=u.length>0?1:2;cc.tween(i).to(.08,{opacity:255}).delay(n).by(.48,{y:180,opacity:-255}).call(function(){e.saveToastView(i),o||e.checkToast()}).start()},e.prototype.checkToast=function(){var t=u.shift();t?this.showNoticeView(t):h=0},e.prototype.obtainToastView=function(){return this._toasts.get()||this.createToastView()},e.prototype.createToastView=function(){var t=cc.instantiate(this.toast),e=cc.find("tex",t),i=cc.find("multiline",t),o=e.getComponent(cc.Label),n=i.getComponent(cc.Label);return e.on(l,function(){var i=e.width;0!=i&&(i<646?t.width=i+54:n.string=o.string)}),i.on(l,function(){i.height<54||(o.string="",e.active=!1,t.width=i.width+54,t.height=i.height+28)}),t},e.prototype.saveToastView=function(t){t.height>70&&(t.width=100,t.height=70,cc.find("tex",t).active=!0,cc.find("multiline",t).getComponent(cc.Label).string=""),this._toasts.put(t)},r([s(cc.Prefab)],e.prototype,"toast",void 0),r([a],e)}(cc.Component);i.default=f,cc._RF.pop()},{}],entry:[function(t,e,i){"use strict";cc._RF.push(e,"c4aa21O8K1CbLW6VzWN+x38","entry"),Object.defineProperty(i,"__esModule",{value:!0}),t("./ohla"),t("./Env"),t("./Lan/Lan"),t("./fetch"),t("./UIKit"),t("./Native"),cc._RF.pop()},{"./Env":"Env","./Lan/Lan":"Lan","./Native":"Native","./UIKit":"UIKit","./fetch":"fetch","./ohla":"ohla"}],en:[function(t,e,i){"use strict";var o;cc._RF.push(e,"eca590Bc1BBcqz5GC2EsdcG","en"),Object.defineProperty(i,"__esModule",{value:!0});var n=((o={draw:"draw",confirm:"Confirm",success:"Successful",networkError:"Network error",rule:"Rule",winner:"Big winner this round",game_sc_lg:"Round %@ Results",round_be:"This Round",earnings:"Earnings",no_winner:"No winner in this round~",game_sc_lc:"Round",game_hl_djs:"Countdown",game_sc_history:"My history",game_sc_time:"playing time",game_sc_information:"playing information",game_sc_Lottery:"Lottery information",game_sc_rank:"Today's Revenue rank",game_sc_ranking:"Ranking",game_sc_profile:"Profile",game_sc_name:"Name",game_sc_revenue:"Revenue",moment_new:"New",number_bureaub:"Round %@",pk_record_history:"History",gift_bag_countdown:"Countdown",Ludo_record_Players:"Players",game_jg_jg:"Result",room_fangj_fsjj:"Fan bonus",game_gz_rule1:"1. Support your favorite team",game_gz_rule2:"2. The team you support can get a multiplier*diamond reward after being selected.",game_gz_rule3:"3. There will be a probability of 3 championship teams appearing in each round. If you support 3 teams, you can get 3 rewards.",game_zqjj_rule1:"1. The fan bonus will be randomly selected to give out bonus to a lucky fan.",game_zqjj_rule2:"2. The more times you participate and the more you invest, the greater your chance of getting bonuses."})[26390002]="Support reaches the upper limit",o[26390003]="Support session has ended",o[21250008]="Insufficient gold coin balance",o[10000010]="Access exception, please try again later",o[10000012]="Parameter error",o[26390006]="The game has not started",o[26390007]="You can only choose large or small",o);i.default=n,cc._RF.pop()},{}],fetch:[function(t,e,i){"use strict";cc._RF.push(e,"08a04/AUu9E56CUKTqtuuKo","fetch");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),i.http=void 0;var n=o(t("json-bigint")).default({strict:!0}),r=o(t("./Env")),c=o(t("./servers")).default.MAIN;function a(t,e,i){var o=Object.keys(i);if(!o.length)return s(t,e);var n=[];return o.forEach(function(t){n.push(t+"="+i[t])}),r.default.DEBUG&&n.push("uid2=28521530820395205"),e.includes("?")?""+t+e+"&"+n.join("&")+"&t="+r.default.token:""+t+e+"?"+n.join("&")+"&t="+r.default.token}function s(t,e){return r.default.DEBUG?e.includes("?")?""+t+e+"&t="+r.default.token+"&uid2=28521530820395205":""+t+e+"?t="+r.default.token+"&uid2=28521530820395205":e.includes("?")?""+t+e+"&t="+r.default.token:""+t+e+"?t="+r.default.token}var h={form:!1,timeout:1e4};i.http={get:function(t,e,i){var o=i&&i.server?i.server:c,r=e?a(o,t,e):s(o,t);return console.info("GET:",t),new Promise(function(t,e){var i=new XMLHttpRequest;i.open("GET",r,!0),i.timeout=7e3,i.responseType="text",i.withCredentials=!0,i.onload=function(){i.status>=200&&i.status<400?t(n.parse(i.response)):e(i.status)},i.ontimeout=function(){console.info("HTTP TIMEOUT!"),e("TIMEOUT")},i.onerror=function(t){console.error("HTTP ERROR:",t),e("ERROR")},i.send()})},post:function(t,e,i){var o=i||h,r=o.form,a=o.server,u=o.contentType,l=o.responseType,f=s(a||c,t);return new Promise(function(i,o){var c=new XMLHttpRequest;if(c.open("POST",f,!0),u?c.setRequestHeader("Content-Type",u):c.setRequestHeader("Content-Type",r?"application/x-www-form-urlencoded":"application/json"),c.timeout=7e3,c.withCredentials=!0,c.responseType=l||"text",c.onload=function(){c.status>=200&&c.status<400?i(l?c.response:n.parse(c.response)):o(c.status)},c.ontimeout=function(){console.info("HTTP TIMEOUT!"),o("TIMEOUT")},c.onerror=function(t){console.error("HTTP ERROR:",t),o("ERROR")},e)if(console.info("data:",e),r){var a=new FormData;for(var s in e)a.append(s,a[s]);c.send(a)}else c.send(u?e:n.stringify(e));else c.send();console.info("POST:",t)})}},i.default=i.http,cc._RF.pop()},{"./Env":"Env","./servers":"servers","json-bigint":5}],hideView:[function(t,e,i){"use strict";cc._RF.push(e,"1b8eeyWX+tDq4OV4ylkSrs+","hideView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._timestamp=0,e.hide=!1,e.touchMode=!1,e.timeout=0,e.view=null,e}return n(e,t),e.prototype.onLoad=function(){this._timestamp=Date.now();var t=this.timeout;t&&this.scheduleOnce(this.releaseView,t/1e3);var e=this.touchMode?"touchstart":"touchend";this.node.on(e,this.releaseView,this)},e.prototype.releaseView=function(){if(console.info("hide view!"),!(Math.abs(Date.now()-this._timestamp)<240)){var t=this.view;t&&(this.hide?t.active=!1:t.destroy())}},r([s({tooltip:"\u53ea\u662f\u9690\u85cf\u9875\u9762 (\u4e0d\u9500\u6bc1)"})],e.prototype,"hide",void 0),r([s({tooltip:"\u89e6\u6478\u751f\u6548\u5f00\u5173 (\u9ed8\u8ba4\u70b9\u51fb\u751f\u6548)"})],e.prototype,"touchMode",void 0),r([s({type:cc.Integer,min:0,tooltip:"\u8bb0\u65f6\u663e\u793a, \u5355\u4f4d\uff1a\u6beb\u79d2. \u5230\u671f\u540e\u9690\u85cf\u6216\u9500\u6bc1(0\u3001\u7981\u7528)"})],e.prototype,"timeout",void 0),r([s({type:cc.Node,tooltip:"\u70b9\u51fb\u65f6\u8981\u9500\u6bc1\u7684\u9875\u9762"})],e.prototype,"view",void 0),r([a],e)}(cc.Component);i.default=h,cc._RF.pop()},{}],hideWebview:[function(t,e,i){"use strict";cc._RF.push(e,"dc490D+k1JJpbvlbgIlIyOj","hideWebview");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c},c=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0});var a=c(t("../core/Native")),s=cc._decorator,h=s.ccclass,u=(s.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return n(e,t),e.prototype.onLoad=function(){this.node.on("touchend",function(){a.default.closeWebview()})},r([h],e)}(cc.Component));i.default=u,cc._RF.pop()},{"../core/Native":"Native"}],ohla:[function(t,e,i){"use strict";cc._RF.push(e,"2a44e2YMPtJhLl5chrF93j6","ohla"),Object.defineProperty(i,"__esModule",{value:!0}),i.random=i.setRandomSeed=i.obtainSearch=i.ohla=void 0;var o={};i.ohla={obtainCookie:function(t,e){var i=o[t];return void 0===i?void 0===e?"":e:i},showToast:function(){}};var n=null;function r(t){if(n)return n[t];var e=window.location.search.match(/([^\?&=]+\=[^&]*)/g);if(e){for(var i=e.length,o={},r=0;r<i;++r){var c=e[r].split("=",2);o[c[0]]=c[1]?decodeURIComponent(c[1]):""}return n=o,o[t]}n={}}i.obtainSearch=r;var c,a=7523;i.setRandomSeed=function(t){a=(t%994271*9413+402443)%924617},i.random=function(){var t=(9743*a+415517)%924617;return a=t,t/924617},(c=document.cookie.match(/([^= ;]+)=([^;]*)/g))&&c.forEach(function(t){var e=t.indexOf("=");o[t.substring(0,e)]=t.substring(e+1)}),window.obtainSearch=r,i.default=i.ohla,cc._RF.pop()},{}],servers:[function(t,e,i){"use strict";cc._RF.push(e,"fcc99ejDAZAn6a9nvxGb35c","servers");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),i.servers=void 0;var n=o(t("./Env")).default.env,r={dev:"http://192.168.124.57:50093",prd:"https://football.karawangroup.com",test:"https://test-football.ohlatech.com"}[n],c={dev:"https://dev-gift.ohlatech.com",prd:"https://gift.karawangroup.com",test:"https://test-gift.ohlatech.com"}[n];i.servers={MAIN:r,GIFT:c},i.default=i.servers,cc._RF.pop()},{"./Env":"Env"}],showView:[function(t,e,i){"use strict";cc._RF.push(e,"2cdfbQd/9xDRrXNGNy+46JY","showView");var o,n=this&&this.__extends||(o=function(t,e){return(o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])})(t,e)},function(t,e){function i(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)}),r=this&&this.__decorate||function(t,e,i,o){var n,r=arguments.length,c=r<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,i):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,i,o);else for(var a=t.length-1;a>=0;a--)(n=t[a])&&(c=(r<3?n(c):r>3?n(e,i,c):n(e,i))||c);return r>3&&c&&Object.defineProperty(e,i,c),c};Object.defineProperty(i,"__esModule",{value:!0});var c=cc._decorator,a=c.ccclass,s=c.property,h=t("../core/tools"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.template=null,e.viewName="",e}return n(e,t),e.prototype.onLoad=function(){var t=this,e=this,i=this.node.getComponent(cc.Button)?"click":"touchstart";this.node.on(i,function(){if(e.isValid)if(e.template){var i=cc.find("Canvas");i&&(cc.instantiate(t.template).parent=i)}else{var o=e.viewName;o&&h.showView(o)}})},r([s(cc.Prefab)],e.prototype,"template",void 0),r([s],e.prototype,"viewName",void 0),r([a],e)}(cc.Component);i.default=u,cc._RF.pop()},{"../core/tools":"tools"}],tools:[function(t,e,i){"use strict";cc._RF.push(e,"ece39EvLDlNpJciZdvLwZ7G","tools");var o=this&&this.__createBinding||(Object.create?function(t,e,i,o){void 0===o&&(o=i),Object.defineProperty(t,o,{enumerable:!0,get:function(){return e[i]}})}:function(t,e,i,o){void 0===o&&(o=i),t[o]=e[i]}),n=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||o(e,t,i)};Object.defineProperty(i,"__esModule",{value:!0}),n(t("./ohla"),i),n(t("./Env"),i),n(t("./cache"),i),n(t("./Lan/Lan"),i),n(t("./fetch"),i),n(t("./Native"),i),n(t("./UIKit"),i),n(t("./servers"),i),cc._RF.pop()},{"./Env":"Env","./Lan/Lan":"Lan","./Native":"Native","./UIKit":"UIKit","./cache":"cache","./fetch":"fetch","./ohla":"ohla","./servers":"servers"}],tr:[function(t,e,i){"use strict";var o;cc._RF.push(e,"caa79CV++NIS4g58YacL4GN","tr"),Object.defineProperty(i,"__esModule",{value:!0});var n=((o={draw:"E\u015e\u0130TL\u0130K",confirm:"Onayla",success:"Ba\u015far\u0131l\u0131",networkError:"A\u011f hatas\u0131",rule:"Kurallar",winner:"Bu Turun En Fazla Kazanan\u0131",game_sc_lg:"%@ Tur Sonu\xe7lar\u0131",round_be:"Bu Tur",earnings:"Bu Turun Kazan\xe7lar\u0131",no_winner:"Bu turda kazanan yok",game_sc_lc:"Tur",game_hl_djs:"Kalan S\xfcre",game_sc_history:"Ge\xe7mi\u015fim",game_sc_time:"Oyun Zaman\u0131",game_sc_information:"Oyun Bilgisi",game_sc_Lottery:"Piyango Bilgisi",game_sc_rank:"Bug\xfcn\xfcn Gelir S\u0131ralamas\u0131",game_sc_ranking:"S\u0131ralama",game_sc_profile:"Profil",game_sc_name:"Ad",game_sc_revenue:"Gelir",moment_new:"Yeni",number_bureaub:"Raund %@",pk_record_history:"Tarih",gift_bag_countdown:"geri say\u0131m",Ludo_record_Players:"Oyuncular",game_jg_jg:"Sonu\xe7",room_fangj_fsjj:"bonusu",game_gz_rule1:"1. Favori tak\u0131m\u0131n\u0131z\u0131 destekleyin",game_gz_rule2:"2. Destekledi\u011finiz tak\u0131m se\xe7ildikten sonra \xe7arpan*elmas \xf6d\xfcl\xfc alabilir.",game_gz_rule3:"3. Her turda 3 \u015fampiyon tak\u0131m\u0131n yer alma olas\u0131l\u0131\u011f\u0131 olacakt\u0131r. 3 tak\u0131m\u0131 desteklerseniz 3 \xf6d\xfcl kazanabilirsiniz.",game_zqjj_rule1:"1. Hayran bonusu, \u015fansl\u0131 bir hayrana bonus vermek \xfczere rastgele se\xe7ilecektir.",game_zqjj_rule2:"2. Ne kadar \xe7ok kat\u0131l\u0131rsan\u0131z ve ne kadar \xe7ok yat\u0131r\u0131m yaparsan\u0131z bonus kazanma \u015fans\u0131n\u0131z o kadar artar."})[26390002]="\xdcst s\u0131n\u0131ra ula\u015f\u0131ld\u0131",o[26390003]="Destek oturumu sona erdi",o[21250008]="Yetersiz coin bakiyesi",o[10000010]="Eri\u015fim ge\xe7ersiz, l\xfctfen tekrar deneyiniz",o[10000012]="Parametre hatas\u0131",o[26390006]="Oyun ba\u015flamad\u0131",o[26390007]="Yaln\u0131zca b\xfcy\xfck veya k\xfc\xe7\xfck se\xe7ebilirsiniz",o);i.default=n,cc._RF.pop()},{}],tw:[function(t,e,i){"use strict";var o;cc._RF.push(e,"1a424XInHJJG7EStwPE4ILu","tw"),Object.defineProperty(i,"__esModule",{value:!0});var n=((o={draw:"\u5e73\u624b",confirm:"\u78ba\u8a8d",success:"\u6210\u529f\u7684",networkError:"\u7db2\u8def\u932f\u8aa4",rule:"\u898f\u5247",winner:"\u9019\u4e00\u8f2a\u7684\u5927\u8d0f\u5bb6",game_sc_lg:"\u5713\u5f62%@\u7d50\u679c",round_be:"\u9019\u4e00\u8f2a",earnings:"\u9019\u4e00\u8f2a\u7684\u6536\u76ca",no_winner:"\u9019\u4e00\u8f2a\u6c92\u6709\u8d0f\u5bb6~",game_sc_lc:"\u5713\u5f62",game_hl_djs:"\u5012\u8a08\u6642",game_sc_history:"\u6211\u7684\u6b77\u53f2",game_sc_time:"\u64ad\u653e\u6642\u9593",game_sc_information:"\u64ad\u653e\u4fe1\u606f",game_sc_Lottery:"\u5f69\u7968\u4fe1\u606f",game_sc_rank:"\u4eca\u5929\u7684\u6536\u5165\u6392\u540d",game_sc_ranking:"\u6392\u540d",game_sc_profile:"\u7c21\u4ecb",game_sc_name:"\u59d3\u540d",game_sc_revenue:"\u6536\u5165",number_bureaub:"%@\u8f2a",pk_record_history:"\u6211\u7684\u6b77\u53f2",game_jg_jg:"\u7d50\u679c",room_fangj_fsjj:"\u7c89\u7d72\u734e\u91d1",game_gz_rule1:"1.\u652f\u6301\u4f60\u559c\u6b61\u7684\u7403\u968a",game_gz_rule2:"2.\u652f\u6301\u7684\u968a\u4f0d\u5728\u88ab\u9078\u4e2d\u5f8c\u53ef\u7372\u5f97\u500d\u6578*\u947d\u77f3\u7684\u734e\u52f5",game_gz_rule3:"3.\u6bcf\u56de\u5408\u90fd\u6709\u6a5f\u7387\u51fa\u73fe3\u96bb\u51a0\u8ecd\u7403\u968a\uff0c\u5982\u679c\u652f\u63013\u652f\u7403\u968a\u5c31\u53ef\u7372\u5f973\u4efd\u734e\u52f5",game_zqjj_rule1:"1.\u7c89\u7d72\u734e\u91d1\u6703\u96a8\u6a5f\u62bd\u51fa\u4e00\u540d\u5e78\u904b\u7684\u7c89\u7d72\u734e\u91d1",game_zqjj_rule2:"2.\u53c3\u8207\u6b21\u6578\u8d8a\u591a\uff0c\u6295\u5165\u8d8a\u591a\uff0c\u7372\u5f97\u734e\u91d1\u7684\u6a5f\u6703\u5c31\u8d8a\u5927"})[26390002]="\u652f\u6301\u9054\u5230\u4e0a\u9650",o[26390003]="\u652f\u6301\u74b0\u7bc0\u5df2\u7d50\u675f",o[21250008]="\u91d1\u5e63\u9918\u984d\u4e0d\u8db3",o[10000010]="\u8a2a\u554f\u7570\u5e38\uff0c\u8acb\u7a0d\u5f8c\u91cd\u8a66",o[10000012]="\u53c3\u6578\u932f\u8aa4",o[26390006]="\u904a\u6232\u672a\u958b\u59cb",o);i.default=n,cc._RF.pop()},{}],vi:[function(t,e,i){"use strict";var o;cc._RF.push(e,"5bb90cg2mBK65SIewU023PG","vi"),Object.defineProperty(i,"__esModule",{value:!0});var n=((o={draw:"H\xf2a",confirm:"Ch\u1eafc ch\u1eafn",success:"Th\xe0nh c\xf4ng",networkError:"L\u1ed7i m\u1ea1ng",rule:"Quy t\u1eafc",winner:"Ng\u01b0\u1eddi chi\u1ebfn th\u1eafng l\u1edbn trong v\xf2ng n\xe0y",game_sc_lg:"K\u1ebft qu\u1ea3 v\xf2ng %@",round_be:"V\xf2ng n\xe0y",earnings:"Thu nh\u1eadp c\u1ee7a v\xf2ng n\xe0y",no_winner:"Kh\xf4ng c\xf3 ng\u01b0\u1eddi chi\u1ebfn th\u1eafng \u1edf v\xf2ng n\xe0y ~",game_sc_lc:"V\xf2ng",game_hl_djs:"\u0110\u1ebfm ng\u01b0\u1ee3c",game_sc_history:"L\u1ecbch s\u1eed c\u1ee7a t\xf4i",game_sc_time:"Th\u1eddi gian ch\u01a1i game",game_sc_information:"th\xf4ng tin ch\u01a1i",game_sc_Lottery:"Th\xf4ng tin x\u1ed5 s\u1ed1",game_sc_rank:"M\u1ee9c doanh thu h\xf4m nay",game_sc_ranking:"X\u1ebfp h\u1ea1ng",game_sc_profile:"H\u1ed3 s\u01a1 c\xe1 nh\xe2n",game_sc_name:"H\u1ecd t\xean",game_sc_revenue:"Doanh thu",moment_new:"M\u1edbi nh\u1ea5t",number_bureaub:"V\xf2ng th\u1ee9 %@",pk_record_history:"L\u1ecbch s\u1eed ",gift_bag_countdown:"\u0110\u1ebfm ng\u01b0\u1ee3c ",Ludo_record_Players:"S\u1ed1 ng\u01b0\u1eddi ch\u01a1i",game_jg_jg:"K\u1ebft qu\u1ea3",room_fangj_fsjj:"th\u01b0\u1edfng",game_gz_rule1:"1. \u1ee6ng h\u1ed9 \u0111\u1ed9i b\xf3ng y\xeau th\xedch c\u1ee7a b\u1ea1n",game_gz_rule2:"2. Nh\xf3m b\u1ea1n h\u1ed7 tr\u1ee3 c\xf3 th\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c ph\u1ea7n th\u01b0\u1edfng nh\xe2n*kim c\u01b0\u01a1ng sau khi \u0111\u01b0\u1ee3c ch\u1ecdn.",game_gz_rule3:"3. C\xf3 kh\u1ea3 n\u0103ng s\u1ebd c\xf3 3 \u0111\u1ed9i v\xf4 \u0111\u1ecbch xu\u1ea5t hi\u1ec7n \u1edf m\u1ed7i v\xf2ng \u0111\u1ea5u. N\u1ebfu b\u1ea1n h\u1ed7 tr\u1ee3 3 \u0111\u1ed9i, b\u1ea1n c\xf3 th\u1ec3 nh\u1eadn \u0111\u01b0\u1ee3c 3 ph\u1ea7n th\u01b0\u1edfng.",game_zqjj_rule1:"1. Ph\u1ea7n th\u01b0\u1edfng c\u1ee7a ng\u01b0\u1eddi h\xe2m m\u1ed9 s\u1ebd \u0111\u01b0\u1ee3c ch\u1ecdn ng\u1eabu nhi\xean \u0111\u1ec3 trao ph\u1ea7n th\u01b0\u1edfng cho ng\u01b0\u1eddi h\xe2m m\u1ed9 may m\u1eafn.",game_zqjj_rule2:"2. B\u1ea1n tham gia c\xe0ng nhi\u1ec1u l\u1ea7n v\xe0 \u0111\u1ea7u t\u01b0 c\xe0ng nhi\u1ec1u th\xec c\u01a1 h\u1ed9i nh\u1eadn \u0111\u01b0\u1ee3c ti\u1ec1n th\u01b0\u1edfng c\xe0ng l\u1edbn."})[26390002]="H\u1ed7 tr\u1ee3 \u0111\u1ea1t gi\u1edbi h\u1ea1n",o[26390003]="Phi\xean h\u1ed7 tr\u1ee3 \u0111\xe3 k\u1ebft th\xfac",o[21250008]="S\u1ed1 d\u01b0 ti\u1ec1n v\xe0ng kh\xf4ng \u0111\u1ee7",o[10000010]="Truy c\u1eadp ngo\u1ea1i l\u1ec7, vui l\xf2ng th\u1eed l\u1ea1i sau",o[10000012]="L\u1ed7i tham s\u1ed1",o[26390006]="Tr\xf2 ch\u01a1i ch\u01b0a b\u1eaft \u0111\u1ea7u",o[26390007]="B\u1ea1n ch\u1ec9 c\xf3 th\u1ec3 ch\u1ecdn l\u1edbn ho\u1eb7c nh\u1ecf",o);i.default=n,cc._RF.pop()},{}],ws:[function(t,e,i){"use strict";cc._RF.push(e,"d43962FQsJJ64QpjGU9MDBT","ws");var o=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(i,"__esModule",{value:!0}),i.WsState=void 0;var n,r=t("js-md5"),c=o(t("json-bigint")).default({strict:!0}),a=new ArrayBuffer(512),s=new TextEncoder,h=new TextDecoder;function u(){return(new Date).toLocaleTimeString().substring(0,8)}function l(t){var e=t&&t.type;e?console.info("websocket invalid type:",e,u()):console.info("websocket invalid callback!")}(function(t){t[t.IDLE=0]="IDLE",t[t.CONNECTING=1]="CONNECTING",t[t.VERIFY=2]="VERIFY",t[t.LINKED=3]="LINKED",t[t.CLOSEING=4]="CLOSEING",t[t.CLOSED=5]="CLOSED"})(n=i.WsState||(i.WsState={}));var f=function(){function t(t,e){this.ws=null,this._vid=0,this._time=0,this._drip=0,this._host="",this._handler=null,this._state=n.IDLE,this._host=t,e&&(this._handler=e)}return t.prototype.setGameId=function(t){this._vid=t},t.prototype.getGameId=function(){return this._vid},t.prototype.updateHost=function(t){this._host=t},t.prototype.connect=function(){var t=this._state;return t&&t<n.CLOSED?(console.error("connect state:",t),!1):!!this._host&&(this.connectWs(),!0)},t.prototype.checkSocket=function(){var t=this._state;switch(t){case n.IDLE:this.reconnect();break;case n.CONNECTING:case n.VERIFY:this.checkTime(t);break;case n.LINKED:this.checkHeart();break;case n.CLOSEING:this.checkTime(t);break;case n.CLOSED:}},t.prototype.checkHeart=function(){var t=Date.now();Math.abs(t-this._drip)>8e3&&(this._drip=t,this.sendHeart())},t.prototype.checkTime=function(t){var e=Date.now();if(!(Math.abs(e-this._time)<5e3))return console.info("websocket timeout:",t),t==n.CONNECTING?(this.closeWebSocket(),void this.stateChange(n.CLOSED)):t==n.VERIFY?(this.closeWebSocket(),void this.stateChange(n.CLOSED)):t==n.CLOSEING?(this.closeWebSocket(),void this.stateChange(n.CLOSED)):void 0},t.prototype.closeWebSocket=function(){var t=this.ws;if(t){this.ws=null,t.onopen=l,t.onclose=l,t.onerror=l,t.onmessage=l;var e=t.readyState;e!=t.CONNECTING&&e!=t.OPEN||t.close()}},t.prototype.send=function(){},t.prototype.reconnect=function(){console.info("ws reconnect:",u()),this.connectWs()},t.prototype.connectWs=function(){var t=this;console.info("ws connect:",this._host,u());var e=new WebSocket(this._host);e.binaryType="arraybuffer",e.onopen=function(){console.log("ws open:",u()),t.stateChange(n.VERIFY),t.sendAuthenticate()},e.onmessage=function(e){t.onMessage(e.data)},e.onclose=function(){console.info("websocket close:",u()),t._state!=n.CLOSED&&t.stateChange(n.CLOSED)},e.onerror=function(e){console.error("websocket error:",e),t._state!=n.CLOSED&&t.stateChange(n.CLOSED)},this.ws=e,this.stateChange(n.CONNECTING)},t.prototype.stateChange=function(t){this._time=Date.now(),this._state=t;var e=this._handler;e&&e.onStateChange(t)},t.prototype.onMessage=function(t){var e=new DataView(t),i=e.getUint16(4,!0),o=e.getUint32(12,!0);if(console.info("ws data:",o,i,u()),1==o)return this._drip=Date.now(),this.sendHeart(),void this.stateChange(n.LINKED);if(!i)return 4==o?void console.info("time-delay:",Math.abs(Date.now()-this._drip)):void 0;var r=t.slice(32,t.byteLength),a=h.decode(r),s=c.parse(a);s&&this.dispatchMessage(o,s)},t.prototype.dispatchMessage=function(t,e){console.info("dispatchMessage:",t,e);var i=this._handler;i&&i.onMessage(t,e)},t.prototype.updateHead=function(t,e){e.setUint8(0,1),e.setUint32(12,t,!0)},t.prototype.initEventBuffer=function(t,e){var i=e.length,o=a.byteLength,n=2*i;if(n>o){for(var r=2*o;r<n;)r*=2;a=new ArrayBuffer(r)}for(var c=0;!c;){var h=new Uint8Array(a,32),u=s.encodeInto(e,h);if(u.read==i){c=u.written;break}a=new ArrayBuffer(2*a.byteLength)}console.info("data num:",c);var l=new DataView(a,0,32);return l.setUint8(0,1),l.setUint16(4,c,!0),l.setUint32(12,t,!0),new Uint8Array(a,0,c+32)},t.prototype.createEvent=function(t,e){console.info("createEvent:",t);var i=s.encode(e),o=i.byteLength+32,n=a.byteLength;if(n<o){for(var r=2*n;r<o;)r*=2;a=new ArrayBuffer(r)}console.info("data num:",o);var c=new DataView(a,0,32);return c.setUint8(0,1),c.setUint16(4,i.byteLength,!0),c.setUint32(12,t,!0),new Uint8Array(a).set(i,32),new Uint8Array(a,0,o)},t.prototype.sendHeart=function(){var t=this.ws,e=t.readyState;if(e==t.OPEN){var i=new DataView(a,0,32);return i.setUint8(0,1),i.setUint32(12,3,!0),void t.send(i.buffer)}console.info("wx state:",e)},t.prototype.sendAuthenticate=function(){var t=this._vid||1e6;console.info("Game:",t);var e=Math.floor(Date.now()/1e3),i="Afj2Ly9?XcF]<f!u|"+e+"|0|"+t+"|"+e+"|",o=r.md5(i),n=JSON.stringify({uniq:e,user:0,room:t,time:e,digest:o});console.info("Authe:",n),s.encodeInto?this.ws.send(this.initEventBuffer(1,n)):this.ws.send(this.createEvent(1,n))},t.prototype.checkLink=function(){var t=this._state;if(t!=n.IDLE&&t!=n.CLOSED)if(t!=n.LINKED);else{var e=this.ws;e.readyState==e.CLOSED&&this.reconnect()}else this.reconnect()},t}();i.default=f,cc._RF.pop()},{"js-md5":4,"json-bigint":5}]},{},["InfiniteList","InfiniteRefreshList","hideView","hideWebview","showView","Env","Lan","ar","en","tr","tw","vi","Link","Native","UIKit","cache","comm","entry","fetch","ohla","servers","tools","ws","Common","Embed","Game","History","Introduce","Main","Numbers","Rank","Rule","Settle","Soccer","Textures"]);